<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>
DRMacIver's Notebook: Expected Time To Hit A Score Difference
    </title>

    <meta property="og:title" content="Expected Time To Hit A Score Difference">

    <meta property="og:url" content="https://notebook.drmaciver.com/posts/2019-08-26-12:03.html" />
    <link rel="canonical" href="https://notebook.drmaciver.com/posts/2019-08-26-12:03.html" />
    <script src="https://hypothes.is/embed.js" async></script>


    <meta name="twitter:card" content="summary" />

    <meta property="og:creator" content="@DRMacIver">

    <link rel="stylesheet" href="/pandoc.css"/>
    <link rel="stylesheet" href="/pygments.css"/>
    <link rel="stylesheet" href="/tufte.css"/>
    <link rel="stylesheet" href="/latex.css"/>
    <link rel="stylesheet" href="/drmnotes.css"/>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />

    <meta name="viewport" content="width=device-width, initial-scale=1">

<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['\\(', '\\)']]},
  multiLine: true,
  "HTML-CSS": { 
       linebreaks: { automatic: true }
  },
  SVG: { 
       linebreaks: { automatic: true } 
  }
});

MathJax.Hub.Register.MessageHook("Math Processing Error", function(message) {
  console.log(message)
});

</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-169185204-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-169185204-1');
</script>

  </head>

  <body>
    <article>
        <h1><a href="/">DRMacIver's Notebook</a></h1>
        <p class=subtitle>Expected Time To Hit A Score Difference</p>

        

<section id="the-post">
<p class=subtitle>Expected Time To Hit A Score Difference</p>
<dl class=metadata>
<dt>Published</dt>
<dd class="post-date">2019-08-26</dd>
</dl>

<p>For reasons I’ve recently found myself interested in the following
problem: Suppose you have a series of bernoulli random variables <span class="math inline">\(X_1, \ldots, X_n, \ldots\)</span> independently
distributed with identical parameter <span class="math inline">\(p &gt;
\frac{1}{2}\)</span>. What is the expected time until you have at least
<span class="math inline">\(k\)</span> more successes than failures?</p>
<p>I spent an annoyingly long time with it before realising in the
shower this morning that it’s actually very easy. The key to solving
this is to realise the critical role that the <span class="math inline">\(k = 1\)</span> version plays.</p>
<p>Let <span class="math inline">\(a_k\)</span> be the expected time to
get <span class="math inline">\(k\)</span> more successes than failures.
Then <span class="math inline">\(a_0 = 0\)</span> clearly. The key
observation is that for <span class="math inline">\(n \geq 1\)</span> we
have <span class="math inline">\(a_n = 1 + (1 - p)(a_1 + a_n) + p a_{n -
1}\)</span>.</p>
<p>Why does this hold?</p>
<p>Think of it as an infinite state markov chain. When you are at state
<span class="math inline">\(n\)</span>, you can either drop down to
state <span class="math inline">\(n - 1\)</span> with probability <span class="math inline">\(p\)</span>, or go up to state <span class="math inline">\(n + 1\)</span> with probability <span class="math inline">\(1 - p\)</span>. If we go up a state, in order to
return to the current state subsequent draws need to have exactly one
more success than failure. By definition, this takes an expected time of
<span class="math inline">\(a_1\)</span>.</p>
<p>We can now plug in <span class="math inline">\(a_1\)</span> to this
and do some simple algebra to get that <span class="math inline">\(a_1 =
(2 p - 1)^{-1}\)</span>.</p>
<p>For <span class="math inline">\(n &gt; 1\)</span> we again do some
algebra and get <span class="math inline">\(a_n = p^{-1}(1 + (1 - p)a_1)
+ a_{n - 1}\)</span>, or <span class="math inline">\(a_n = (2p - 1)^{-1}
+ a_{n - 1}\)</span>. Putting these all together we get that <span class="math inline">\(a_n = n (2p - 1)^{-1}\)</span></p>
<p>Which all told is a much nicer result than I was expecting.</p>

</section>

    </article>
<footer>
Copyright David R. MacIver.

CSS mostly due to <a href="https://edwardtufte.github.io/tufte-css/">Tufte CSS</a> by Dave Liepmann.
</footer>
  </body>
</html>
