<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://notebook.drmaciver.com/</id>
  <title>DRMacIver's notebook</title>
  <updated>2025-10-12T13:29:19+01:00</updated>
  <author>
    <name>David R. MacIver</name>
    <email>david@drmaciver.com</email>
  </author>
  <link href="https://notebook.drmaciver.com" rel="alternate"/>
  <link href="https://notebook.drmaciver.com/feed.xml" rel="self"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2025-05-02-14:19.html</id>
    <title>No</title>
    <updated>2025-05-02T14:51:20+01:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;No&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2025-05-02&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;People often talk about needing to be better at saying no.&lt;/p&gt;


&lt;p&gt;This is treated as a monolithic skill or general character trait, but
I think this might be another &lt;a href="https://notebook.drmaciver.com/posts/2022-05-30-18:41.html"&gt;victim
of metonymy&lt;/a&gt;, and there are actually a number of very different
circumstances under which you might need to learn this skill. For
example, here are a few:&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Claude helped with some of these, but I deleted about
50% of its suggestions and edited most of the rest.&lt;/span&gt;&lt;/p&gt;


&lt;ol type="1"&gt;
&lt;li&gt;Saying no to someone who has authority and will legitimately
pressure you to say yes.&lt;/li&gt;
&lt;li&gt;Saying no to someone who has authority but does actually want you to
say no if you can’t do the thing but you’re afraid to disappoint
them.&lt;/li&gt;
&lt;li&gt;Saying no to things that you do want to do when you’re too tired to
do them.&lt;/li&gt;
&lt;li&gt;Saying no when you really don’t want to do a thing but know the
person who would do it instead also doesn’t want to do the thing.&lt;/li&gt;
&lt;li&gt;Saying no to a friend who consistently asks for favors but rarely
reciprocates.&lt;/li&gt;
&lt;li&gt;Saying no to family members who expect you to participate in
traditions that you no longer feel comfortable in.&lt;/li&gt;
&lt;li&gt;Saying no to a romantic partner who wants to move faster in the
relationship than you’re comfortable with.&lt;/li&gt;
&lt;li&gt;Saying no to a project at work that you could help on but isn’t what
you want to be doing.&lt;/li&gt;
&lt;li&gt;Saying no to a child who wants something that isn’t good for them,
despite tears.&lt;/li&gt;
&lt;li&gt;Saying no to participating in gossip or conversations that make you
uncomfortable.&lt;/li&gt;
&lt;li&gt;Saying no to a request that you think is unethicaly.&lt;/li&gt;
&lt;li&gt;Saying no to requests for information that feel inappropriate..&lt;/li&gt;
&lt;li&gt;Saying no to taking on additional responsibilities when others
aren’t doing their share.&lt;/li&gt;
&lt;li&gt;Saying no to providing help when you are legitimately the best
person to do it but don’t have the capacity to do so right now.&lt;/li&gt;
&lt;li&gt;Saying no to providing help when you are legitimately the best
person to do it when you could do it but really don’t want to.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;For me, I’m pretty good at saying no in circumstances where I’m
really over capacity, especially if I don’t particularly care about the
asker. I’m also good at saying no even when there’s a power
gradient.&lt;/p&gt;


&lt;p&gt;However, I’m &lt;em&gt;very bad&lt;/em&gt; at saying no to doing something when
someone I care about would have to do it instead and also clearly
doesn’t want to do it.&lt;/p&gt;


&lt;p&gt;In some sense, I endorse being bad at that, you &lt;em&gt;should&lt;/em&gt; do
things for people you care about, but also that caring is (hopefully)
reciprocated, and you should let them do that for you too, and that’s
the part I’m bad at letting (or encouraging to) happen. Also you’ll
often end up in specific instances where &lt;a href="https://notebook.drmaciver.com/posts/2025-03-29-10:40.html"&gt;someone’s
gotta&lt;/a&gt; and sometimes it’s easier to just do the thing than navigate
who that someone should be.&lt;/p&gt;


&lt;p&gt;Regardless though, this feels like a much more specific problem to
engage with, for at least two reasons:&lt;/p&gt;


&lt;ol type="1"&gt;
&lt;li&gt;You can look at a specific circumstance and actually engage with the
concrete feelings around it much better than you can a sort of vague
“I’m bad at saying no”.&lt;/li&gt;
&lt;li&gt;You can ask for help on specific circumstances, especially recurring
ones, in a way that you can’t with the general. Rather than “I need to
get better at saying no”, you can start with “I need to ask for help
here”, and it’s a concrete enough problem that help will hopefully be
forthcoming.&lt;/li&gt;
&lt;/ol&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2025-05-02-14:19.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2025-05-03-16:49.html</id>
    <title>The wheel turns</title>
    <updated>2025-05-03T17:52:21+01:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;The wheel turns&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2025-05-03&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;Please note: This will contain some spoilers for the entire Wheel of
Time series of books and up to the end of Season 3 for the show.&lt;/p&gt;


&lt;p&gt;Some of my earliest memories of reading Proper Fiction are of the
Wheel of Time books by Robert Jordan.&lt;/p&gt;


&lt;p&gt;I’m not going to claim they’re great literature. I’m not even going
to claim they’re &lt;em&gt;good&lt;/em&gt; literature. I’ve tried rereading them as
an adult and just couldn’t. But as a kid they were definitely doing
something for me, above and beyond their key virtue of being long and
available in airports.&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;I grew up in Saudi Arabia but came to England multiple
times per year, so my childhood involved a lot of flights.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;As a result, I’ve read these books a &lt;em&gt;lot&lt;/em&gt; over the years.
Certainly every book up to around… let’s say book 8 I think, I’ve read
multiple times. The Fires of Heaven, book 5, I believe I have read no
fewer than four times, but that was because it was the only book I had
with me in a very unpleasant situation, so I read it cover to cover
several times back to back as a form of very literal escapism. I don’t
think I’ve done that with any other book before or since.&lt;/p&gt;


&lt;p&gt;Also, notably, I couldn’t tell you a single thing about what happened
in The Fires of Heaven. I was going to say that this was because it was
one of the books where nothing happened, but &lt;a href="https://en.wikipedia.org/wiki/The_Fires_of_Heaven"&gt;looking it up
on Wikipedia&lt;/a&gt; I’m not sure that’s true. A bunch of quite notable
things happen in it. Probably the real reason why I don’t remember it
very well is because I read it in 1993 and that was, allegedly, quite
some time ago.&lt;label class="margin-toggle sidenote-number" for="fn2"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn2" type="checkbox"/&gt;&lt;span class="sidenote"&gt;I’m actually a little confused by this chronology
because I don’t see how the events in question could have occurred in
1993, and 1994 seems much more plausible, but I was reading a hardcover
copy of The Fires of Heaven for the first time, which was presumably
around when it came out in 1993. But maybe this was the lag of books
making it over to the UK back when the delays were longer or
something.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;I feel like this series was a sufficiently big part of my childhood
that I should have more memories tied up in it, but I don’t really.
Fragments of conversations about it with friends and family as kids come
to mind (including several about how weird Robert Jordan was about
girls), and an early realisation about differences in visualisation
ability from talking to a childhood friend about our respective attempts
to recreate the flame and the void exercise.&lt;label class="margin-toggle sidenote-number" for="fn3"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn3" type="checkbox"/&gt;&lt;span class="sidenote"&gt;I never did manage to figure out how to channel
though.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;Anyway, I was pretty excited about the TV show, though I tried to
temper that down to cautiously optimistic.&lt;/p&gt;


&lt;p&gt;My emotions since have been… mixed.&lt;/p&gt;


&lt;p&gt;They’ve made a bunch of changes to the books and I think that this is
mostly good. I’m a little irked by some of them - for example, I think
giving Perrin a wife only to fridge her in the first episode in order to
give him a more tragic backstory was extremely Not On. I also felt like
they worked a bit too hard on giving Mat a tragic backstory. And I’m not
sold on the new backstory for Nynaeve either.&lt;/p&gt;


&lt;p&gt;In general, it feels like… they didn’t like how protagonisty Rand
was, and they felt the need to make everyone else have more protagonist
energy in order to make the whole show more of an ensemble show than it
would naturally be (which matches how the books are later, but early on
Rand is definitely The Protagonist), and I’m not sure that really
improved things.&lt;label class="margin-toggle sidenote-number" for="fn4"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn4" type="checkbox"/&gt;&lt;span class="sidenote"&gt;I think it especially didn’t improve things for Nynaeve,
who is incredibly well cast and didn’t really need the extra support.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;This also shows up in the whole “we don’t know which one of them is
the dragon” thing. I thought it was an interesting conceit, but also it
didn’t work. I particularly think that “We don’t know if the dragon will
be a man or a woman” part really is too big a departure from the books
and ruins a lot of the worldbuilding such as e.g. the role of the Red
Ajah. Some of this is an attempt to update the gender politics of the
books to be less… Robert Jordan… and I generally approve of that, but I
think there’s a tricky balance to be struck there.&lt;/p&gt;


&lt;p&gt;You could see the discomfort with Rand as protagonist play out
particularly badly in the end of Season 2 where they basically felt the
need to give everyone a participation trophy. The big battle scene at
Falme was… incredibly weak, and lacked any of the drama of the books.
Frankly, I hated the ending of Season 2, and that’s part of why I took
so long to start on Season 3. I’d given them a pass for Season 1 ending
so badly, which was apparently mostly due to COVID, but Season 2 was
them writing a season ending without those problems and the result was…
extremely mediocre.&lt;/p&gt;


&lt;p&gt;I think one thing this emphasised for me is that I do have a nagging
feeling that the showrunners don’t really understand what was good about
Robert Jordan’s writing. That’s understandable. I don’t really
understand what was good about Robert Jordan’s writing, and I used to
consider myself a big fan, but I think the contrast with the show has
actually helped me understand that.&lt;/p&gt;


&lt;p&gt;And I think one thing that Robert Jordan &lt;em&gt;was&lt;/em&gt; very good at
was endings. Many or most of his books have big dramatic endings that
have both major plot impact and a real sense of grandeur to them. The
season endings so far… didn’t. The season 3 ending is much better than 1
or 2, but even that it feels like it was a bit lacking.&lt;/p&gt;


&lt;p&gt;Anyway, Season 3 makes some pretty dramatic changes from the books,
partly in that it mostly follows book 4 and skips book 3 (presumably to
incorporate it more into season 3), and I think that’s great. I’m
actually a huge fan of most of the changes.&lt;/p&gt;


&lt;p&gt;One of the big things that I feel like we’re starting to see is that
they’re pruning plotlines. For example, there’s an entire plotline with
Siuan Sanche post-stilling that got um… quite aggressively pruned, and I
think the series is stronger for it. I think ditching the Choedan Kal
(the giant sa’angreal) is a great choice.&lt;label class="margin-toggle sidenote-number" for="fn5"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn5" type="checkbox"/&gt;&lt;span class="sidenote"&gt;And not just because I think Callandor deserves
better.&lt;/span&gt;
This is I think really good, because one of the big problems Robert
Jordan had as a writer was that he was absolutely incapable of doing
that. Every plotline spawned two more plotlines, and a lot of why the
books turned glacial as he wrote more and more of them was that there
was too much going on for each book.&lt;/p&gt;


&lt;p&gt;I’m not so sure about the change to Nynaeve overcoming her block this
early on,&lt;label class="margin-toggle sidenote-number" for="fn6"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn6" type="checkbox"/&gt;&lt;span class="sidenote"&gt;In the books, that’s book 7.&lt;/span&gt; but mostly because of the degree it
required Leandrin to be holding the idiot ball to set it up.&lt;/p&gt;


&lt;p&gt;Another change I’m cautiously a fan of is the Aviendha/Elayne
relationship. I actually quite like that one of my formative series as a
kid had… actually reasonably healthy depictions of poly relationships,
even if they were much more along the lines of a very heterosexual
polygamous / harem fantasy,&lt;label class="margin-toggle sidenote-number" for="fn7"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn7" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Though often reverse harem too! I don’t think it’s
literally canon that the green ajah and their warders were often in
relationships, but even if they weren’t literally having sex it’s very
much a poly life partnership.&lt;/span&gt; and I like that that’s
potentially better balanced out in the series.&lt;label class="margin-toggle sidenote-number" for="fn8"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn8" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Although I’m a little concerned that they’re just going
to pair people up and Rand will only end up with one of them. Certainly
it seems like Mat and Min are getting paired up. Rand, Aviendha, and
Elayne, seems like a plausible triad though given the Aiel traditions.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;Anyway, Season 3 has definitely restored me to my cautious optimism.
I still don’t think that this series is &lt;em&gt;great&lt;/em&gt;, but it’s
starting to manage to be a meaningful improvement on the source
material, which is how I felt it might turn out at the beginning of
Season 1 and didn’t really feel throughout most of Season 2. As a
result, I find myself actually looking forward to Season 4.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2025-05-03-16:49.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2025-05-04-09:53.html</id>
    <title>How to cook frozen chips</title>
    <updated>2025-05-04T10:11:52+01:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;How to cook frozen chips&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2025-05-04&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;One of my… I don’t quite want to say guilty pleasures. Lazy foods,
comfort foods, something like that, is frozen chips. Or french fries if
you prefer. Or waffle fries. Really most sorts of frozen potato
product.&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Frozen baked and roast potatoes don’t count and are
mostly disappointing. They’re not very good, and not that hard to do
from fresh. The only real advantage of them is that they keep forever,
which is admittedly a pretty big advantage when you want to improvise
something out of stores.&lt;/span&gt; Because I can’t eat wheat, they end
up being probably my second most common choice of carb after rice.&lt;/p&gt;


&lt;p&gt;One interesting thing about these products is that they are very much
a lazy meal, but they respond extremely well to a little bit of effort.
If you take the default path of just pouring them out from the bag into
the pan and putting them in the oven, you’ll get something a bit
disappointingly soggy. If you spend about 5 minutes of prep time, you
can get something genuinely very good.&lt;/p&gt;


&lt;p&gt;Here’s how to do it right:&lt;/p&gt;


&lt;ol type="1"&gt;
&lt;li&gt;Place them individually in the pan so that they are well separated
with an air gap between each chip.&lt;/li&gt;
&lt;li&gt;Drizzle a bit of oil over them.&lt;label class="margin-toggle sidenote-number" for="fn2"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn2" type="checkbox"/&gt;&lt;span class="sidenote"&gt;It occurs to me on writing this that actually it would
be better to toss them in oil first. Slightly more &lt;a href="https://notebook.drmaciver.com/posts/2025-03-23-21:48.html"&gt;washing
up to do&lt;/a&gt;, but probably worth it.&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Sprinkle with salt.&lt;label class="margin-toggle sidenote-number" for="fn3"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn3" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Again, if tossing with oil, add the salt at that
point.&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Cook them &lt;em&gt;for the amount of time it says on the packet&lt;/em&gt;, or
even slightly less.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;You probably believe that the amount of cooking time on a chip packet
is almost always a lie and they need longer, and it is, but if they’re
properly separated then they cook more evenly and need less time, and if
you’ve added fat you’ve significantly improved the heat transfer rate.&lt;label class="margin-toggle sidenote-number" for="fn4"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn4" type="checkbox"/&gt;&lt;span class="sidenote"&gt;I think the salt helps too because it draws moisture out
faster, but I’m not sure.&lt;/span&gt; If you do the usual thing of adding
10 minutes to the cooking time you’ll get burnt chips.&lt;/p&gt;


&lt;p&gt;This actually works even better if you use animal fats. For example,
we’ve got a large jar of duck fat that we keep in the fridge.&lt;label class="margin-toggle sidenote-number" for="fn5"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn5" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Because we’re classy motherfuckers. Although honestly
for the amount you need to use of it it to get good results it’s
actually not that expensive. Price competitive with, say, olive oil.&lt;/span&gt; Yesterday I was making Leon’s waffle
fries,&lt;label class="margin-toggle sidenote-number" for="fn6"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn6" type="checkbox"/&gt;&lt;span class="sidenote"&gt;To accompany a nice easy lazy meal of duck breast.
Classy. Motherfuckers.&lt;/span&gt; and after appropriately separating
them out I put a tiny dollop of duck fat on each one. The results were,
frankly, spectacular. Perfectly crispy and with a much richer flavour
than they normally have, for very little extra effort.&lt;/p&gt;


&lt;p&gt;I enjoy the contrast of this. There’s something very pleasing to me
about the ability to take something unfancy and make it slightly
fancier. I also like it because it’s a good example of how doing
something properly can make it much better for really not much
additional effort.&lt;/p&gt;


&lt;p&gt;I also enjoy it because I &lt;em&gt;really&lt;/em&gt; like crispy salty
potatoes.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2025-05-04-09:53.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2025-06-01-11:38.html</id>
    <title>Understanding through calculation</title>
    <updated>2025-06-01T17:18:29+01:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;Understanding through calculation&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2025-06-01&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;I’m in the process of trying to derust my maths skills, so I’m going
to try posting about mathematics every day for June and see if that
helps.&lt;/p&gt;


&lt;p&gt;One of the things I’ve been noticing with a lot of what I’ve been
reading (which has mostly been about probability) is that there are a
lot of points where you want to prove some result, and the way you do
that is just a bunch of algebra, and I tend to get… not exactly lost,
but unsatisfied. I can understand the calculation, and I could even
recreate it, but I don’t feel like I understand &lt;em&gt;why&lt;/em&gt; the result
is true more at the end than I did at the beginning.&lt;/p&gt;


&lt;p&gt;I pointed at part of this in &lt;a href="https://notebook.drmaciver.com/posts/2025-04-22-16:32.html"&gt;algebra
and insight&lt;/a&gt;, where a result that was very easy to prove through
calculation became much easier to understand by reformulating the
problem with an insight. Crucially, that insight &lt;em&gt;didn’t actually
reduce the amount of calculation&lt;/em&gt;, but it replaced a completely
opaque calculation with one that was more about confirming the insight
actually worked.&lt;/p&gt;


&lt;p&gt;Thing is… I don’t think you can get away without doing any
uninformative calculations. Calculations are important, and sometimes
what you need is an actual concrete result, and you need to calculate to
do that. I think probably you can mine most calculations for insight,
but I don’t think there’s any particularly deep reason that &lt;span class="math inline"&gt;\(3 \times 106 = 318\)&lt;/span&gt;, that’s just what you
get when you run the calculation.&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;This isn’t entirely true, as a whole bunch of mental
arithmetic comes down to breaking numbers down and seeing how they fit
together. For example, this one is clearly true because &lt;span class="math inline"&gt;\(3 \times 106 = 3 \times 100 + 3 \times 6 = 300 +
18 = 318\)&lt;/span&gt;. So it’s not that the insights don’t exist, it’s more
like the claim doesn’t feel like it needs justifying. The fact that
&lt;span class="math inline"&gt;\(3 \times 106 = 318\)&lt;/span&gt; is more or less
allowed to stand on its own. It still needs checking, and if I’d told
you for example that &lt;span class="math inline"&gt;\(3 \times 106 =
315\)&lt;/span&gt; you should immediately have a suspicious reaction to that,
so the true answer in some ways needs less insight than the false
answer. I’m not sure what point I’m making and I think I’m sortof
disagreeing with the main thrust of my argument at this point. I think
what I mean to say is that this sort of calculation is one you might
reasonably feel comfortable leaving insightless.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;But I ran into an interesting example in the opposite direction this
morning, where the key to understanding something that I’d been
struggling with because I lacked insight was just shut up and calculate,
and &lt;em&gt;after doing the calculation the result was obvious&lt;/em&gt;.&lt;/p&gt;


&lt;p&gt;Here’s the problem:&lt;/p&gt;


&lt;p&gt;Suppose you’ve got some quantity &lt;span class="math inline"&gt;\(\mu =
\sum\limits_{n \geq 0} \mu_n\)&lt;/span&gt;, and you have unbiased (but not
necessarily independent) estimators &lt;span class="math inline"&gt;\(X_i\)&lt;/span&gt; for the summands, i.e. &lt;span class="math inline"&gt;\(E(X_i) = \mu_i\)&lt;/span&gt;.How do you construct an
unbiased estimator for &lt;span class="math inline"&gt;\(\mu\)&lt;/span&gt;?&lt;/p&gt;


&lt;p&gt;Here’s an easy version that I learned from &lt;a href="https://alexlew.net/"&gt;Alex Lew&lt;/a&gt;’s PhD thesis.&lt;label class="margin-toggle sidenote-number" for="fn2"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn2" type="checkbox"/&gt;&lt;span class="sidenote"&gt;You’re going to be hearing about Alex a lot in these
posts I suspect, as a nontrivial amount of what I’m trying to do right
now is to mainline his entire body of work until I understand all the
bits of it I care about.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;First, take some random positive integer valued variable &lt;span class="math inline"&gt;\(N\)&lt;/span&gt;, with &lt;span class="math inline"&gt;\(P(N=n) = q(n)\)&lt;/span&gt;, such that &lt;span class="math inline"&gt;\(q(n) &amp;gt; 0\)&lt;/span&gt; for all &lt;span class="math inline"&gt;\(n \geq 0\)&lt;/span&gt;. Sample a value &lt;span class="math inline"&gt;\(n\)&lt;/span&gt; from it, sample &lt;span class="math inline"&gt;\(x_n\)&lt;/span&gt; from &lt;span class="math inline"&gt;\(X_n\)&lt;/span&gt; and return &lt;span class="math inline"&gt;\(\frac{x_n}{q(n)}\)&lt;/span&gt;.&lt;/p&gt;


&lt;p&gt;Why does this work? Well, it’s part of a general phenomenon of things
that work, called &lt;a href="https://en.wikipedia.org/wiki/Importance_sampling"&gt;importance
sampling&lt;/a&gt; but we can do the calculation directly:&lt;/p&gt;


&lt;p&gt;&lt;span class="math display"&gt;\[\begin{align*}
E(\frac{X_N}{q(N)}) &amp;amp; = E(\sum\limits_{n} P(N = n) \frac{X_n}{q(n)})
\\
&amp;amp; = E(\sum\limits_{n} q(n) \frac{X_n}{q(n)}) \\
&amp;amp; = E(\sum\limits_{n} X_n) \\
&amp;amp; = \sum\limits_{n} E(X_n) \\
&amp;amp; = \sum\limits_{n} \mu_n \\
&amp;amp; = \mu \\
\end{align*}\]&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;Basically, dividing by &lt;span class="math inline"&gt;\(q(n)\)&lt;/span&gt;
“cancels out” the frequency with which we sample &lt;span class="math inline"&gt;\(n\)&lt;/span&gt;, and so as a result we get exactly the
expectation we want. I’m not sure how it looks to you, but for me this
calculation very much ends with me feeling like I get the result.&lt;/p&gt;


&lt;p&gt;Something Alex pointed out to me is that in the case we’re interested
in, you more or less have to evaluate the &lt;span class="math inline"&gt;\(X_i\)&lt;/span&gt; in sequence.&lt;label class="margin-toggle sidenote-number" for="fn3"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn3" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Specifically they’re all unbiased estimators for &lt;span class="math inline"&gt;\(Y^n\)&lt;/span&gt; for some random variable &lt;span class="math inline"&gt;\(Y\)&lt;/span&gt;, and you calculate &lt;span class="math inline"&gt;\(X_n\)&lt;/span&gt; from &lt;span class="math inline"&gt;\(n\)&lt;/span&gt; independent draws of &lt;span class="math inline"&gt;\(Y\)&lt;/span&gt;.&lt;/span&gt;
This makes this method quite wasteful, because it ignores all of the
information you get from the first &lt;span class="math inline"&gt;\(n -
1\)&lt;/span&gt; coefficients.&lt;/p&gt;


&lt;p&gt;Instead, he pointed out that the following method works, which he
described as a “&lt;a href="https://en.wikipedia.org/wiki/Horvitz%E2%80%93Thompson_estimator"&gt;Horvitz-Thompson
like estimator&lt;/a&gt;”:&lt;/p&gt;


&lt;p&gt;Draw &lt;span class="math inline"&gt;\(n\)&lt;/span&gt; from &lt;span class="math inline"&gt;\(N\)&lt;/span&gt;, sample &lt;span class="math inline"&gt;\(x_i\)&lt;/span&gt; from &lt;span class="math inline"&gt;\(i =
0, \ldots, n\)&lt;/span&gt;, and return &lt;span class="math inline"&gt;\(\sum\limits_{i = 0}^n \frac{x_i}{P(N \geq
i)}\)&lt;/span&gt;.&lt;/p&gt;


&lt;p&gt;I’ve spent about a week stumped about why this works. I haven’t been
thinking about it constantly, but when I have I’ve been trying to gain
insight into it. In particular this is apparently understandable as an
application of Alex’s &lt;a href="https://arxiv.org/abs/2203.02836"&gt;RAVI
framework&lt;/a&gt;&lt;label class="margin-toggle sidenote-number" for="fn4"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn4" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Which is still very much at the stage where I stare at
the calculations and Don’t Quite Get It for me. All of the pieces make
sense, but I haven’t got it to cohere into something I can actually use
yet.&lt;/span&gt;, and I was very much failing to get
how that worked here.&lt;/p&gt;


&lt;p&gt;But this morning, I realised that if you frame it the right way
(which Alex had already more or less said and I’d failed to realise) you
can just shut up and calculate and it’s easy then.&lt;/p&gt;


&lt;p&gt;Here’s how it works: First, draw some random finite set of integers
&lt;span class="math inline"&gt;\(S\)&lt;/span&gt;, according to whatever
distribution you like.&lt;label class="margin-toggle sidenote-number" for="fn5"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn5" type="checkbox"/&gt;&lt;span class="sidenote"&gt;But, crucially, independently of the &lt;span class="math inline"&gt;\(X_i\)&lt;/span&gt;.&lt;/span&gt; For our use case it will be &lt;span class="math inline"&gt;\(S = \{0, \ldots, N\}\)&lt;/span&gt; but the result
doesn’t depend on that.&lt;/p&gt;


&lt;p&gt;Now, construct the random variable &lt;span class="math inline"&gt;\(T =
\sum\limits_{i \in S} c_i X_i\)&lt;/span&gt; for some coefficients &lt;span class="math inline"&gt;\(c_i\)&lt;/span&gt; that we’ll choose later. Now:&lt;/p&gt;


&lt;p&gt;&lt;span class="math display"&gt;\[\begin{align*}
E(T) &amp;amp;= E(\sum\limits_{i \in S} c_i X_i) \\
&amp;amp;= E(\sum\limits_{i \geq 0} 1_{i \in S} c_i X_i) \\
&amp;amp;= \sum\limits_{i \geq 0} E(1_{i \in S} c_i X_i) \\
&amp;amp;= \sum\limits_{i \geq 0} c_i E(1_{i \in S}) E(X_i)) \\
&amp;amp;= \sum\limits_{i \geq 0} c_i P(i \in S) \mu_i \\
\end{align*}\]&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;So, in order to get &lt;span class="math inline"&gt;\(E(T) = \mu\)&lt;/span&gt;,
we just have to pick &lt;span class="math inline"&gt;\(c_i = \frac{1}{P(i \in
S)}\)&lt;/span&gt;. When we substitute in the choice &lt;span class="math inline"&gt;\(S = \{0, \ldots, N\}\)&lt;/span&gt;, this gives us our
desired estimator.&lt;/p&gt;


&lt;p&gt;Again, I don’t know if you’ll feel the same way, but for me this
calculation is &lt;em&gt;extremely clear&lt;/em&gt;. I feel like I now get why this
estimator works, and it works precisely because the calculation says it
does. I think some of this is because I worked out the details for
myself, but I do also think that in some sense the calculation is both
clear and the only way that you can possibly get a result like this.&lt;/p&gt;


&lt;p&gt;I do feel like there’s still some need for insight there. For example
I think this would have been much less clear (although would have still
worked just fine) if I’d used the specific instance of the set based
random variable instead of the general one.&lt;/p&gt;


&lt;p&gt;There’s maybe also a little bit of a question of how you figure out
that such an estimator is reasonable in the first place. Guess and check
is a perfectly valid method, but it does feel a little bit unsatisfying.
On the other hand, I think given the linearity of expectation and the
law of conditional expectation, it’s pretty reasonable to expect that
&lt;em&gt;something&lt;/em&gt; like this would work, so I’m not sure.&lt;/p&gt;


&lt;p&gt;Either way, I think probably part of derusting my mathematics&lt;label class="margin-toggle sidenote-number" for="fn6"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn6" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Actually I’m not sure this even counts as derusting. I
feel like calculation has always been the part of mathematics I was
worst at.&lt;/span&gt; is going to be getting comfortable
with gaining understanding through calculation, and figuring out when
and how that works.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2025-06-01-11:38.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2025-06-02-08:51.html</id>
    <title>The Weierstrass approximation theorem as a probabilistic result</title>
    <updated>2025-06-02T08:51:00+01:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;The Weierstrass approximation theorem as a probabilistic result&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2025-06-02&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;I was reading through Probability with Martingales, which is one of
the books I’m studying at the moment&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;A bit haphazardly, it must be said.&lt;/span&gt; and was surprised to run
into a proof of the Weirstrass Approximation Theorem, the theorem that
the polynomials are dense in the space &lt;span class="math inline"&gt;\(C([a,
b])\)&lt;/span&gt; equipped with the supremum measure. The proof presented is
apparently actually the original proof, but I’d somehow either never
seen it before, or saw it stripped of the probability somehow.&lt;label class="margin-toggle sidenote-number" for="fn2"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn2" type="checkbox"/&gt;&lt;span class="sidenote"&gt;I think it’s possible that I’ve only ever seen the proof
of the Stone-Weirstrass Theorem, which is a fully more general result,
but I’m not sure. I think it’s impossible that I’ve never seen a proof
of this result some time in my maths career, but for whatever reason it
hasn’t stuck in my mind at all.&lt;/span&gt;&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2025-06-02-08:51.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2025-06-02-14:56.html</id>
    <title>Variance of elementary symmetric polynomials</title>
    <updated>2025-06-02T14:56:00+01:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;Variance of elementary symmetric polynomials&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2025-06-02&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;I was trying to figure out what the variance of a certain estimator
should be, and found it helpful to work through a special case. You…
probably don’t care about any of this, sorry, but the end result was
nice so I thought I’d write it up.&lt;/p&gt;


&lt;p&gt;Suppose you’ve got independent random variables &lt;span class="math inline"&gt;\(X_1, \ldots, X_n\)&lt;/span&gt; with &lt;span class="math inline"&gt;\(E(X_i) = 0\)&lt;/span&gt; and &lt;span class="math inline"&gt;\(Var(X_i) = 1\)&lt;/span&gt;. The &lt;span class="math inline"&gt;\(X_i\)&lt;/span&gt; don’t necessarily have the same
distribution beyond that.&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Though in the case I actually care about they do.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;Now, suppose we have some &lt;span class="math inline"&gt;\(k\)&lt;/span&gt; with
&lt;span class="math inline"&gt;\(0 \leq k \leq n\)&lt;/span&gt;. The elementary
symmetric polynomial $e_k(x) = &lt;em&gt;{u n^k } &lt;/em&gt;{i u} x_i $, where
&lt;span class="math inline"&gt;\([n]^k\)&lt;/span&gt; is the set of all subsets of
${1, , n}) of size &lt;span class="math inline"&gt;\(k\)&lt;/span&gt;.&lt;/p&gt;


&lt;p&gt;It’s easy to see that &lt;span class="math inline"&gt;\(E(e_k(X)) =
0\)&lt;/span&gt;, because all of the summands are a product of independent
variables with expected &lt;span class="math inline"&gt;\(0\)&lt;/span&gt;. The
question I wanted to answer was what is &lt;span class="math inline"&gt;\(Var(e_k(X))\)&lt;/span&gt;?&lt;/p&gt;


&lt;p&gt;First, write $Q_u = _{i u} X_i $, so &lt;span class="math inline"&gt;\(e_k(X) = \sum Q_u\)&lt;/span&gt;.&lt;/p&gt;


&lt;p&gt;Then we have &lt;span class="math inline"&gt;\(Var(e_k(X)) =
\sum\limits_{u, v \in [n]^k} Cov(Q_u, Q_v)\)&lt;/span&gt;. So we just need to
work out those covariances.&lt;/p&gt;


&lt;p&gt;It turns out, that if &lt;span class="math inline"&gt;\(u \neq v\)&lt;/span&gt;
then &lt;span class="math inline"&gt;\(Cov(Q_u, Q_v) = 0\)&lt;/span&gt;, because we
can write&lt;/p&gt;


&lt;p&gt;[Q_u Q_v = X_j &lt;em&gt;{i u {j}} X_i &lt;/em&gt;{i v {j}} X_i ]&lt;/p&gt;


&lt;p&gt;The second two terms are independent of &lt;span class="math inline"&gt;\(X_j\)&lt;/span&gt;, so &lt;span class="math inline"&gt;\(E(Q_u
Q_v) = E(X_j) E(\ldots) = 0\)&lt;/span&gt;.&lt;/p&gt;


&lt;p&gt;This is slightly interesting as they’re &lt;em&gt;not&lt;/em&gt; in general
independent.&lt;/p&gt;


&lt;p&gt;Now, we just have to work out &lt;span class="math inline"&gt;\(Var(Q_u)\)&lt;/span&gt;, but this is easy, because &lt;span class="math inline"&gt;\(E(Q_u) = 0\)&lt;/span&gt;, so &lt;span class="math inline"&gt;\(Var(Q_u) = E(\prod\limits_{i \in u} X_i^2)
=  \prod\limits_{i \in u} E(X_i^2) = 1\)&lt;/span&gt;.&lt;/p&gt;


&lt;p&gt;As a result:&lt;/p&gt;


&lt;p&gt;&lt;span class="math display"&gt;\[\begin{align*}
Var(e_k(X)) &amp;amp;= \sum\limits_{u \in [n]^k } 1 \\
&amp;amp; = |[n]^k| \\
&amp;amp; = {n \choose k} \\
\end{align*}\]&lt;/span&gt;&lt;/p&gt;


&lt;hr/&gt;


&lt;p&gt;The reason this is interesting is actually related to &lt;a href="https://notebook.drmaciver.com/posts/2025-06-01-11:38.html"&gt;my
last post&lt;/a&gt;. The idea is that if you’ve got some independent unbiased
estimators &lt;span class="math inline"&gt;\(X_i\)&lt;/span&gt; for a quantity &lt;span class="math inline"&gt;\(\mu\)&lt;/span&gt;, and you want to construct
independent unbiased estimators for &lt;span class="math inline"&gt;\(\mu^k\)&lt;/span&gt;, you can do this by multiplying
&lt;span class="math inline"&gt;\(X_1, \ldots, X_n\)&lt;/span&gt;. But if you’re
already sampling from those, you can also get estimators for the
quantities &lt;span class="math inline"&gt;\(\mu^k\)&lt;/span&gt; with &lt;span class="math inline"&gt;\(k &amp;lt; n\)&lt;/span&gt;, “for free”, by just multiplying
any &lt;span class="math inline"&gt;\(k\)&lt;/span&gt; of the &lt;span class="math inline"&gt;\(X_i\)&lt;/span&gt; you’ve sampled from. But by just
picking one, you’re throwing away a lot of possible data you could use
for estimation. Taking &lt;em&gt;all&lt;/em&gt; the possible products and averaging
them should in theory get you a lower-variance unbiased estimator.&lt;/p&gt;


&lt;p&gt;This post came out of me trying to figure out exactly how much lower
variance, and the answer is actually quite a lot in the special case of
mean 0 and variance 1, as the above result shows that after taking the
average the variance of this estimator is &lt;span class="math inline"&gt;\(\frac{1}{n \choose k}\)&lt;/span&gt;.&lt;/p&gt;


&lt;p&gt;You can calculate all of these estimators at once using dynamic
programming:&lt;/p&gt;


&lt;div class="sourceCode" id="cb1"&gt;&lt;pre class="sourceCode python"&gt;&lt;code class="sourceCode python"&gt;&lt;span id="cb1-1"&gt;&lt;a aria-hidden="true" href="#cb1-1" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="im"&gt;import&lt;/span&gt; numpy &lt;span class="im"&gt;as&lt;/span&gt; np&lt;/span&gt;
&lt;span id="cb1-2"&gt;&lt;a aria-hidden="true" href="#cb1-2" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-3"&gt;&lt;a aria-hidden="true" href="#cb1-3" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-4"&gt;&lt;a aria-hidden="true" href="#cb1-4" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="kw"&gt;def&lt;/span&gt; elementary_means(xs):&lt;/span&gt;
&lt;span id="cb1-5"&gt;&lt;a aria-hidden="true" href="#cb1-5" tabindex="-1"&gt;&lt;/a&gt;    means &lt;span class="op"&gt;=&lt;/span&gt; np.zeros(&lt;span class="bu"&gt;len&lt;/span&gt;(xs) &lt;span class="op"&gt;+&lt;/span&gt; &lt;span class="dv"&gt;1&lt;/span&gt;)&lt;/span&gt;
&lt;span id="cb1-6"&gt;&lt;a aria-hidden="true" href="#cb1-6" tabindex="-1"&gt;&lt;/a&gt;    means[&lt;span class="dv"&gt;0&lt;/span&gt;] &lt;span class="op"&gt;=&lt;/span&gt; &lt;span class="dv"&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-7"&gt;&lt;a aria-hidden="true" href="#cb1-7" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="cf"&gt;for&lt;/span&gt; n, xn &lt;span class="kw"&gt;in&lt;/span&gt; &lt;span class="bu"&gt;enumerate&lt;/span&gt;(xs, &lt;span class="dv"&gt;1&lt;/span&gt;):&lt;/span&gt;
&lt;span id="cb1-8"&gt;&lt;a aria-hidden="true" href="#cb1-8" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;for&lt;/span&gt; k &lt;span class="kw"&gt;in&lt;/span&gt; &lt;span class="bu"&gt;range&lt;/span&gt;(&lt;span class="bu"&gt;len&lt;/span&gt;(means) &lt;span class="op"&gt;-&lt;/span&gt; &lt;span class="dv"&gt;1&lt;/span&gt;, &lt;span class="dv"&gt;0&lt;/span&gt;, &lt;span class="op"&gt;-&lt;/span&gt;&lt;span class="dv"&gt;1&lt;/span&gt;):&lt;/span&gt;
&lt;span id="cb1-9"&gt;&lt;a aria-hidden="true" href="#cb1-9" tabindex="-1"&gt;&lt;/a&gt;            means[k] &lt;span class="op"&gt;+=&lt;/span&gt; (means[k &lt;span class="op"&gt;-&lt;/span&gt; &lt;span class="dv"&gt;1&lt;/span&gt;] &lt;span class="op"&gt;*&lt;/span&gt; xn &lt;span class="op"&gt;-&lt;/span&gt; means[k]) &lt;span class="op"&gt;*&lt;/span&gt; k &lt;span class="op"&gt;/&lt;/span&gt; n&lt;/span&gt;
&lt;span id="cb1-10"&gt;&lt;a aria-hidden="true" href="#cb1-10" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="cf"&gt;return&lt;/span&gt; means&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;(Algorithm from &lt;a href="https://d1qx31qr3h6wln.cloudfront.net/publications/urm.pdf"&gt;An
unbiased ray-marching transmittance estimator&lt;/a&gt;)&lt;/p&gt;


&lt;p&gt;This does seem to give the right answer, but I’m a little worried
about its numerical stability. Part of why I wanted to work out the 0/1
case was to test out whether the variances I was getting were right, and
it looks like this ends up producing too high a variance for &lt;span class="math inline"&gt;\(e_n\)&lt;/span&gt;. I don’t entirely know why, as the
other variances seem right, but it’s an easy fix to just replace that
one in particular with the easily calculable product of all the
samples.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2025-06-02-14:56.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2025-08-24-12:11.html</id>
    <title>Stable attention as a prerequisite for skill</title>
    <updated>2025-08-24T12:39:45+01:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;Stable attention as a prerequisite for skill&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2025-08-24&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;As is traditional when trying to recover from a drought of writing,
I’m going to write about not writing.&lt;/p&gt;


&lt;p&gt;Specifically, my current difficulty with writing seems to be
primarily… what to write about.&lt;/p&gt;


&lt;p&gt;Some context: Part of why I’ve been having “difficulty writing” is
that over the last couple of months I’ve been very into mathematics. The
difficult thing hasn’t actually been writing. I’ve had very little
difficulty writing about mathematics, or figuring out new and
interesting bits of mathematics. Much of this hasn’t happened in
particularly public places, but it has happened.&lt;/p&gt;


&lt;p&gt;I think there are at least two reasons for this, but they happened at
the same time. One of them is that I’ve started a new job which very
much needs me to be good at maths, so I’ve been dusting off a lot of old
mathematical skills and applying them. This has been great,
honestly.&lt;/p&gt;


&lt;p&gt;The other reason is that at more or less the same time I started on
Wellbutrin. My initial experience of it was also pretty great, my
ongoing experience is… more mixed, but I think still positive.&lt;/p&gt;


&lt;p&gt;Whatever the reason, the last couple of months have seen me with a
&lt;em&gt;very&lt;/em&gt; strong preference for &lt;a href="https://drmaciver.substack.com/p/two-types-of-work"&gt;crunchy work
over squishy work&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;Something I noticed almost immediately on starting it is that I lost
a skill, which is the ability to tell myself stories in my head. I
tend(ed) to do this a lot, especially when trying to fall asleep, and
within a few days of starting Wellbutrin it seemed nearly impossible to
do. I could start just fine - coming up with a premise for a story and
starting to tell it isn’t any more difficult, but the problem is that I
would lose the train of thought. I’d tell myself a story for a minute or
two, and then I’d start thinking about something else.&lt;/p&gt;


&lt;p&gt;Unfortunately being able to do something for only short snatches at a
time before losing the thread is pretty indistinguishable from not being
able to do the thing&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Especially when holding attention is the main point of
the activity, as it is when trying to use this to fall asleep.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;Ironically I got distracted from writing this right after writing
that sentence. I’m trying to use a secondary anchor to keep focus, and
it is helping, but not perhaps as much as I’d like.&lt;/p&gt;


&lt;p&gt;I originally titled this post “Holding interest as a prerequisite for
skill”, but actually that’s not right. What’s needed is
&lt;em&gt;attention&lt;/em&gt;. Holding interest is one way to maintain attention,
but it’s not the only way. You should, ideally, be able to hold
attention on something regardless of whether you find it
interesting.&lt;/p&gt;


&lt;p&gt;And when you can’t, the skill usually falls apart. I think this is
the mechanism behind the “I can only do things I find interesting”
problem a lot of us with or vaguely in the direction of ADHD have, but I
think it’s a general phenomenon: If you want to be good at something,
you first need to be able to hold your attention on doing the thing.&lt;/p&gt;


&lt;p&gt;Some skills eventually you grow out of needing attention on them and
can do by rote, but most things will go better if you can pay attention
to them.&lt;/p&gt;


&lt;p&gt;This is true even for things that you &lt;em&gt;can&lt;/em&gt; do without paying
attention to. I’ve noticed, for example, that Pilates goes &lt;em&gt;much&lt;/em&gt;
better for me if I’m paying attention to the actual physical act I’m
performing and how it feels than it does if I’m designing algorithms in
my head. I’m often designing algorithms in my head anyway, so I’m not
all that good at Pilates. I can still do the exercises, but not
necessarily well. I do it anyway because doing Pilates badly is better
than not doing Pilates, but the difference is noticeable.&lt;/p&gt;


&lt;p&gt;I think part of the problem with the storytelling, and the writing,
is that as my brain went maths brained, there was no longer a thread of
interest holding my attention on the task, and as a result my mind
wanders off the idea whenever I try.&lt;/p&gt;


&lt;p&gt;I think there’s a motivation component to it too. Certainly part of
the problem is that I’m choosing not to write rather than just not
writing. But, at least in theory, &lt;a href="https://notebook.drmaciver.com/posts/2025-03-29-10:40.html"&gt;I can
solve that problem&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;I don’t have to want to write in order to write, but also it’s more
complicated than that. I &lt;em&gt;do&lt;/em&gt; want to write, I just don’t find
any particular thing I want to write appealling, but that doesn’t mean I
won’t appreciate the result in the end. I could choose to write, I just
need to be able to maintain the thread while doing so.&lt;/p&gt;


&lt;p&gt;I don’t quite know how one cultivates this skill of holding attention
without interest. Maybe it’s something meditation should help with (it
certainly sounds like it should be), but I suspect also it’s just a case
of doing the thing until it feels natural, so let’s see if some more
daily writing fixes it.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2025-08-24-12:11.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2025-08-25-10:56.html</id>
    <title>Notes on a slightly failed spellcrafting attempt</title>
    <updated>2025-08-25T11:26:18+01:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;Notes on a slightly failed spellcrafting attempt&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2025-08-25&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;A concept I’ve found very useful in the past is what David Chapman
describes as velleity:&lt;/p&gt;


&lt;blockquote&gt;
&lt;p&gt;A “velleity” is a wish so weak that it does not occur to you to act
on it. These are desires you instantly dismiss because they do not match
your picture of what you think you want. They seem nonsensical,
unexpected, and do not fit into your plans. But they are shadow-tracks
of passions you do not know you have. Pursuing them, you will capture
your desire.&lt;/p&gt;
&lt;/blockquote&gt;


&lt;p&gt;As &lt;a href="https://notebook.drmaciver.com/posts/2025-08-24-12:11.html"&gt;mentioned
in my last post&lt;/a&gt;, I’m struggling a bit with figuring out what it is I
actually want at the moment. Or, perhaps that’s not quite right, I know
what I want but it isn’t what I want to want and I’m looking for some
expansion.&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Even there I’m not sure it’s &lt;em&gt;really&lt;/em&gt; what I
want. There’s definitely a desire to disappear off into a mathematics
hole but I’m not sure it manifests in a way that’s… a fully coherent set
of desires.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;I thought I’d go on a velleity hunt, so I attempted the following
exercise:&lt;/p&gt;


&lt;p&gt;Take a blank piece of paper and at the top of it write “What do I
want?”&lt;/p&gt;


&lt;p&gt;Start writing a list of things. Whenever you get to the end, mentally
think “and…” and try to autocomplete it some more.&lt;/p&gt;


&lt;p&gt;When writing down things you want, be careful about shoulds. You’re
allowed to put down outcomes you want, that doesn’t mean you want the
action. e.g. my list ended up containing “for my room to be tidy” and
“to write more newsletter posts”. These are things I genuinely want.
Note it &lt;em&gt;doesn’t&lt;/em&gt; say “tidy my room”, or “write (some specific
newsletter post)”. At the moment I genuinely do want the outcomes, but
the actual specific actions required to achieve them don’t seem remotely
appealing.&lt;label class="margin-toggle sidenote-number" for="fn2"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn2" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Actually having written that down I notice I &lt;em&gt;do&lt;/em&gt;
have some level of desire to clean my room. Not a lot, but some. I might
do five minutes or so after I finish writing this.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;In general, don’t write down things you don’t want, but do write down
things you &lt;em&gt;complicatedly&lt;/em&gt; want. It’s OK to want things and
decide not to do them, or not to do them yet, because you have other
competing wants or practical constraints.&lt;/p&gt;


&lt;p&gt;Anyway, I don’t want to say that this exercise was &lt;em&gt;bad&lt;/em&gt;
exactly. It prompted some useful introspection, but it was mostly kinda
sad and depressing if I’m honest. A lot of what I want right now is
apparently “be less burdened”, or “do things that distract me from
problems”, or “not need to keep doing specific things that distract me
from problems but seem net negative”. This is perhaps a useful insight
to have but lacks much in the way of positive direction.&lt;/p&gt;


&lt;p&gt;I suspect the exercise as designed is actually very poor for hunting
velleities, and the best way to find them starts from a process of
creation more than discovery. A prompt like “Here are some stupid things
I could do…” is more likely to find quiet desires hidden in the noise
than starting from a question like “What do I want?”, because the latter
risks the big things crowding out the small things.&lt;/p&gt;


&lt;p&gt;But I’ll save further experiments for another day.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2025-08-25-10:56.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2025-08-26-18:34.html</id>
    <title>Types of enjoyment</title>
    <updated>2025-08-26T19:14:16+01:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;Types of enjoyment&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2025-08-26&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;This post is inspired by a recent conversation with &lt;a href="https://contemplatonist.substack.com/"&gt;Amber&lt;/a&gt;.&lt;/p&gt;


&lt;p&gt;I was explaining the idea of Type 2 Fun&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;I hate the term, although it does at least have the
saving grace compared to many Type 1/2 distinctions that at least “Type
1” just means “the normal thing people mean by this word”.&lt;/span&gt; -
things that are only fun in retrospect - and in reflection from the
conversation I think I’ve decided that the concept is stupid.&lt;/p&gt;


&lt;p&gt;The problem is quite straightforward: It implicitly conflates “fun”
with “something you enjoyed and want to do again”, and those are
obviously different things. People enjoy all sorts of strong emotions
all the time, and it doesn’t have to be fun in order for them to do so.
Fun is a very specific emotional response, and is only one among many
that people enjoy. I couldn’t - and don’t want to - draw a specific
boundary around what is and isn’t fun, but I do think for example that
“fun” has a sort of lightheartedness, perhaps an element of
exhilaration, to it that is not present in most forms of enjoyment.&lt;/p&gt;


&lt;p&gt;One of Amber’s examples was weight lifting. Weight lifting
&lt;em&gt;can&lt;/em&gt; be fun, but you can also enjoy it in other ways - it can be
satisfying, it can be energising without being fun, it can calm you down
when you’re angry. There are loads of other positive effects.&lt;/p&gt;


&lt;p&gt;A similar example for me is massage. Getting a massage is certainly
not fun.&lt;label class="margin-toggle sidenote-number" for="fn2"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn2" type="checkbox"/&gt;&lt;span class="sidenote"&gt;I mean, ahem, depends on the type of massage. But the
type of massage I routinely get certainly isn’t.&lt;/span&gt; A massage may or may not be pleasant
- there’s certainly a nice fluffy relaxing sort of massage you can get
that I’m sure some people enjoy a lot.&lt;label class="margin-toggle sidenote-number" for="fn3"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn3" type="checkbox"/&gt;&lt;span class="sidenote"&gt;It mostly makes me grumpy.&lt;/span&gt; At
the moment I’m very into traditional Thai massage, which is a sort of
pressure-massage-meets-assisted yoga. Quoth my most recent masseuse
“…why do you like this? Nobody picks this one. People normally come to
us for oil massage. Doesn’t it hurt?”. Yes, of course it hurts. The
trick is not to mind. And I do enjoy getting a very heavy massage - Thai
or otherwise. It hurts, but it in a very satisfying way.&lt;/p&gt;


&lt;p&gt;I don’t think this is masochism, at least not exactly. It’s not the
fact that it hurts that I’m enjoying, but there’s a very no-pain-no-gain
feeling associated with it.&lt;/p&gt;


&lt;p&gt;Another example is very frustrating games. I recently played (the
first two parts) of &lt;a href="https://icely.itch.io/icwp-interactive"&gt;Increasingly Cursed
Wordle&lt;/a&gt;. A huge part of the enjoyment of this game is the incredibly
angry noises you make when you figure out certain colours.&lt;label class="margin-toggle sidenote-number" for="fn4"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn4" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Purple/Green results in especially entertaining
diatribes.&lt;/span&gt;
These are noises of genuine anger, or at least irritation, and that is
part and parcel of the experiences of enjoyment.&lt;/p&gt;


&lt;p&gt;Playing Upwords with my dad is similar. I’ve got a running joke that
every game of Upwords is unusually bad. Honestly I’ve never seen such an
awful board. Ugh, why do we play this game? And then we play it
again.&lt;/p&gt;


&lt;p&gt;In the moment none of these experiences are “fun”. They’re not fun in
retrospect either. But they are &lt;em&gt;satisfying&lt;/em&gt;, and that is the
experience that we are trying to get out of them.&lt;/p&gt;


&lt;p&gt;There are other ways to enjoy things than that too. For example,
people read incredibly depressing novels, or watch sad films. They may
end up sobbing at them! There might be some degree of satisfaction in
that, but if so it’s a very different sort than that you’ll get from
Increasingly Cursed Wordle or Upwords, which I think is different again
from the satisfaction you get from a massage.&lt;label class="margin-toggle sidenote-number" for="fn5"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn5" type="checkbox"/&gt;&lt;span class="sidenote"&gt;I’m not sure about lifting weights. I think that’s
different again. Maybe a more similar example to lifting weights for me
is breath holding, which feels more like Slay the Spire or Upwords than
it does like a massage.&lt;/span&gt;
It’s an experience of catharsis perhaps.&lt;/p&gt;


&lt;p&gt;“Interest” is another one. I once read “Atomic Accidents: A History
of Nuclear Meltdowns”, and although I’m somewhat reluctant to use the
word “enjoy” for it, I think it’s the right word.&lt;label class="margin-toggle sidenote-number" for="fn6"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn6" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Except for the radium chapter, which left me wanting to
hide under my desk and cry.&lt;/span&gt; The
book was horrifying and fascinating and I could not put it down.&lt;/p&gt;


&lt;p&gt;I think this generalises, and there are very few emotional
experiences that people &lt;em&gt;don’t&lt;/em&gt; enjoy in a safe environment. I
tried to come up with counterexamples - e.g. disgust seemed like an
obvious choice, but actually there are lots of ways people enjoy
disgust.&lt;label class="margin-toggle sidenote-number" for="fn7"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn7" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Only some of them sexual. e.g. a lot of people look at
things that gross them out. Although oddly I think in that case they
&lt;em&gt;are&lt;/em&gt; having fun.&lt;/span&gt; For example some people &lt;a href="https://drmaciver.substack.com/p/delight-in-the-imperfect"&gt;love
sharing timezone facts&lt;/a&gt;.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2025-08-26-18:34.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2025-10-12-12:43.html</id>
    <title>Speeding up conditional sampling with divide and conquer</title>
    <updated>2025-10-12T13:29:19+01:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;Speeding up conditional sampling with divide and conquer&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2025-10-12&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;I got myself into a bit of a mess trying to explain why a particular
result was true the other day, so this is my write up of a proof.&lt;/p&gt;


&lt;p&gt;Suppose you’re sampling from some language model (large or otherwise)
and you want to apply a constraint &lt;span class="math inline"&gt;\(h\)&lt;/span&gt;. That is, you’ve got some random
variable &lt;span class="math inline"&gt;\(S\)&lt;/span&gt;, and you want to sample
a random variable &lt;span class="math inline"&gt;\(T\)&lt;/span&gt; such that &lt;span class="math inline"&gt;\(P(T = t) \propto P(S = t) h(t)\)&lt;/span&gt;.&lt;/p&gt;


&lt;p&gt;One way to achieve this is rejection sampling: You just repeatedly
sample from IID copies of &lt;span class="math inline"&gt;\(S\)&lt;/span&gt; until
you get one that satisfies &lt;span class="math inline"&gt;\(h\)&lt;/span&gt;.&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;I’m playing a bit fast and loose with random variables
here and just assuming you can take IID copies of any of them. Really
our “random variables” of interest are randomized programs.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;The problem with this is that it’s potentially very slow. It might
require a lot of samples from &lt;span class="math inline"&gt;\(S\)&lt;/span&gt;,
especially if you make bad choices on your initial choices of characters
in the sequence.&lt;/p&gt;


&lt;p&gt;Here’s a way of improving the performance , if for each character
&lt;span class="math inline"&gt;\(c\)&lt;/span&gt;, we can calculate &lt;span class="math inline"&gt;\(a(c) = P(h(S) | S \text{ starts with }
c)\)&lt;/span&gt;.&lt;/p&gt;


&lt;p&gt;We do this by reweighting the probability of each start character
&lt;span class="math inline"&gt;\(c\)&lt;/span&gt; by &lt;span class="math inline"&gt;\(\tau(c)\)&lt;/span&gt;, so we choose &lt;span class="math inline"&gt;\(c\)&lt;/span&gt; with probability proportional to &lt;span class="math inline"&gt;\(P(S \text{ starts with } c) \tau(c)\)&lt;/span&gt;. If
&lt;span class="math inline"&gt;\(c\)&lt;/span&gt; is the special EOS token, we
stop, otherwise we then recursively apply this method to the rest of the
string, reweighting the next character in a similar way (with newly
calculated probabilities).&lt;/p&gt;


&lt;p&gt;The advantage of this method is that we never have to backtrack or
repeat ourselves: Our reweighting of the characters automatically takes
the constraint into account without having to ever start over again.&lt;/p&gt;


&lt;p&gt;The disadvantage is that we have to get these &lt;span class="math inline"&gt;\(\tau\)&lt;/span&gt; reweights from somewhere, which may
or may not be possible in general. I’m interested in some special cases
where it’s easy because the condition has a nice simple structure that
just comes from deleting prefixes, but we won’t go into that here.&lt;/p&gt;


&lt;p&gt;The reason this works is essecially a light variant of the &lt;a href="https://www.cambridge.org/core/journals/combinatorics-probability-and-computing/article/abs/probabilistic-divideandconquer-a-new-exact-simulation-method-with-integer-partitions-as-an-example/85C6175903F96D32609D1BF6820A4664"&gt;Probabilistic
divide and conquer method&lt;/a&gt;, which rests on the following lemma:&lt;/p&gt;


&lt;p&gt;Suppose we have discrete random variables &lt;span class="math inline"&gt;\(A, B\)&lt;/span&gt; on &lt;span class="math inline"&gt;\(U,
V\)&lt;/span&gt;, with joint law &lt;span class="math inline"&gt;\(q\)&lt;/span&gt; and
some constraint &lt;span class="math inline"&gt;\(h: U \times V \to \{0,
1\}\)&lt;/span&gt; with &lt;span class="math inline"&gt;\(Z = E(h(A, B)) &amp;gt;
0\)&lt;/span&gt;, and we want to sample from the conditional distribution
&lt;span class="math inline"&gt;\(A, B | h(A, B)\)&lt;/span&gt;. That is, we want
random variables &lt;span class="math inline"&gt;\(X, Y\)&lt;/span&gt; such that
&lt;span class="math inline"&gt;\(P(X = x, Y = y) = \frac{q(x,
y)}{Z}\)&lt;/span&gt;.&lt;/p&gt;


&lt;p&gt;Construct &lt;span class="math inline"&gt;\(X, Y\)&lt;/span&gt; as follows:&lt;/p&gt;


&lt;ol type="1"&gt;
&lt;li&gt;Sample &lt;span class="math inline"&gt;\(X\)&lt;/span&gt; such that &lt;span class="math inline"&gt;\(P(X = x) = P(A = x | h(A, B))\)&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;Then sample &lt;span class="math inline"&gt;\(Y\)&lt;/span&gt; such that &lt;span class="math inline"&gt;\(P(Y = y) = P(B = y | h(A, B), A =
x)\)&lt;/span&gt;.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;If you can do this, then &lt;span class="math inline"&gt;\(P(X = x, Y = y)
= \frac{q(x, y)}{Z}\)&lt;/span&gt; as desired.&lt;/p&gt;


&lt;p&gt;In the original PDC paper they describe this as a simple application
of Bayes’ formula, which maybe it is but I then got myself into a muddle
trying to prove it. In the end I found it easier to go back to just a
straightforward definition of conditional probability. First, &lt;span class="math inline"&gt;\(P(X = x, Y = y)  = P(X = x) P(Y = y | X =
x)\)&lt;/span&gt;.&lt;/p&gt;


&lt;p&gt;We now calculate these two quantities:&lt;/p&gt;


&lt;p&gt;&lt;span class="math display"&gt;\[\begin{align*}
P(X = x) &amp;amp;= P(A = x | h(A, B)) \\
&amp;amp;= \frac{P(A = x, h(A, B))}{P(h(A, B))} \\
&amp;amp;= \frac{P(A = x, h(A, B))}{Z} \\
\end{align*}\]&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;&lt;span class="math display"&gt;\[\begin{align*}
P(Y = y | X = x) &amp;amp;= P(B = y | A = x, h(A, B)) \\
&amp;amp;= \frac{P(B = y,  A = x, h(A, B))}{A = x, h(A, B) \\
&amp;amp;= \frac{q(x, y) h(x, y)}{P(A = x, h(A, B))} \\
\end{align*}\]&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;So then multiplying these together we get:&lt;/p&gt;


&lt;p&gt;&lt;span class="math display"&gt;\[\begin{align*}
P(X = x, Y = y)  &amp;amp; = P(X = x) P(Y = y | X = x) \\
&amp;amp; = \frac{P(A = x, h(A, B))}{Z} \frac{q(x, y) h(x, y)}{A = x, h(A,
B)} \\
&amp;amp; = \frac{q(x, y) h(x, y)}{Z} \\
\end{align*}\]&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;As desired.&lt;/p&gt;


&lt;p&gt;This result is practically trivial, and it’s not obvious a priori
that sampling this way is in fact any easier than the original
constrained sampling problem, but the observation of PDC is that
sometimes it is, and that when it is it can be a huge speed
improvement.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2025-10-12-12:43.html" rel="alternate"/>
  </entry>
</feed>
