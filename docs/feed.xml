<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>https://notebook.drmaciver.com/</id>
  <title>DRMacIver's notebook</title>
  <updated>2024-09-22T16:37:11+01:00</updated>
  <author>
    <name>David R. MacIver</name>
    <email>david@drmaciver.com</email>
  </author>
  <link href="https://notebook.drmaciver.com" rel="alternate"/>
  <link href="https://notebook.drmaciver.com/feed.xml" rel="self"/>
  <generator uri="https://lkiesow.github.io/python-feedgen" version="0.9.0">python-feedgen</generator>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2024-02-02-12:17.html</id>
    <title>Learning to walk right</title>
    <updated>2024-02-02T15:39:36+00:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;Learning to walk right&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2024-02-02&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;Of the back of &lt;a href="https://notebook.drmaciver.com/posts/2024-01-24-22:09.html"&gt;my
realisation that I was standing on one leg wrong&lt;/a&gt; I had another
important insight of this type: I was walking wrong, and I could just
walk right instead..&lt;/p&gt;


&lt;p&gt;It’s a longstanding problem of mine that I have flat feet, and this
causes a lot of problems for my legs, especially my right leg. This
causes my knees to bow inwards and generally seems to underly a lot of
my general physical problems.&lt;/p&gt;


&lt;p&gt;During a walk the other day after I figured out the standing on one
leg thing, I had an important insight: I could just walk
differently.&lt;/p&gt;


&lt;p&gt;Here’s what I said on discord at the time:&lt;/p&gt;


&lt;blockquote&gt;
&lt;p&gt;I have a longstanding problem with flat feet. Major issue, arguably
my most basic one that creates all my other body issues&lt;/p&gt;
&lt;p&gt;I’ve tried a bunch of things to fix this (albeit not very diligently)
and nothing seems to have helped&lt;/p&gt;
&lt;p&gt;And I’ve just figured out the solution and it’s so fucking
annoying&lt;/p&gt;
&lt;p&gt;Which is to pay attention to my feet while I’m walking and stop
walking with them flat&lt;/p&gt;
&lt;p&gt;And to be clear this is much harder. It feels difficult and
unnatural. But I think that’s actually a sign that it’s working for
building muscles I’ve neglected&lt;/p&gt;
&lt;p&gt;(In answer to a question about how) To a large degree arch is a thing
you do not a thing you have. But more specifically I guess: roll your
feet outwards so that more or the weight is on the outside of the
foot&lt;/p&gt;
&lt;p&gt;Like a lot of “flat feet” is really about letting what arch there is
collapse inwards&lt;/p&gt;
&lt;p&gt;I also wear barefoot shoes and have been puzzled at how little they
helped, and I think the reason is that they’re a bottleneck on fixing
the habit of walking wrong but removing that bottleneck doesn’t cause
the habit to fix itself.&lt;/p&gt;
&lt;p&gt;I think I’ve been working on a wrong implicit model where I’ve
treated physical problems as things that will fix themselves if you work
on the necessary muscles and stop doing the thing that creates the
problem, but the correct model is maybe more like “make sure you’re
using the right muscles and motions and that will strengthen the muscles
you need for doing it right directly”&lt;/p&gt;
&lt;/blockquote&gt;


&lt;p&gt;Anyway I’ve been practicing this exercise on and off for a few days
and… turns out this is wrong.&lt;/p&gt;


&lt;p&gt;I’d started to have suspicions this morning when I tried practicing
the position when standing in the shower, and noticed how much it
scrunched my toes up. That’s very much not the toe position of a healthy
walk.&lt;/p&gt;


&lt;p&gt;Then I went to my one on one Pilates session and asked to go off
script and basically just focus on gait and leg exercises.&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;This isn’t really a pilates thing, I’m just relying on
my teacher’s broader expertise in body mechanics.&lt;/span&gt;. We
concluded that basically this was just walking differently wrong, wasn’t
actually exercising the right muscles, and probably was bad for my
hips.&lt;/p&gt;


&lt;p&gt;I do think that the core insight that you can just walk differently
is good and I will be drawing on it, but I think probably (as various
people pointed out to me on discord) it’s never going to be quite this
easy. If you’re walking wrong you probably need to put in some active
effort into learning what walking right looks like, and yes developing
the muscles in question with some more basic movements, rather than just
lifting up your arches and expecting the problem to be solved.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2024-02-02-12:17.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2024-02-04-13:26.html</id>
    <title>Invitations and exclusions</title>
    <updated>2024-02-04T13:48:26+00:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;Invitations and exclusions&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2024-02-04&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;There’s a thing that I do in the design of my discord server that to
me seems just absolutely blindingly obviously the correct way to do it,
and is also directly the opposite of how everyone else does it, in a way
that very obviously causes problems.&lt;/p&gt;


&lt;p&gt;It’s this: A channel is an &lt;em&gt;invitation to start a conversation
about a subject&lt;/em&gt;, not a place where &lt;em&gt;only that subject is
appropriate&lt;/em&gt;.&lt;/p&gt;


&lt;p&gt;For example, we’ve got the #games channel. This is a place where you
are invited to talk about games. Sometimes it’s also a place where we
talk about philosophy, or programming, or parenting… but it’s mostly
about games. Looking at the #games channel I don’t really see much that
isn’t about games recently, and that’s fine too.&lt;/p&gt;


&lt;p&gt;There is one very big consequence of this approach: We almost never
have to have talk about something being off-topic and request moving it
to a different channel.&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;There are a few cases where we do that, but it’s always
because of more specific rules than a general “stay on topic” category.
During the height of the pandemic, we tried to uh quarantine pandemic
chat to #pandemic, and the owner of a &lt;a href="https://tasshin.com/blog/feeds-an-anthropological-report-on-a-powerful-online-social-technology/"&gt;feed&lt;/a&gt;
can always ask for conversations to be moved elsewhere.&lt;/span&gt; This removes a constant source of
background anxiety about staying on topic, and also it allows for many
conversations to occur that otherwise would be stifled.&lt;/p&gt;


&lt;p&gt;The reason #games is a place to talk about anything isn’t because
people come to #games to talk about anything. It would be weird to just
randomly post a picture of your lunch in #games, because that’s not how
you start a conversation about #games. We don’t police that, it’s just
not a thing that people do because why would they? But if, for example,
you were talking about games you play with your kid, and it branched
into a more general conversation about parenting, that would be
absolutely fine, and the conversation could continue to be about
parenting for as long as you wanted it to, without any sense that you
were doing something wrong.&lt;/p&gt;


&lt;p&gt;Another consequence of this approach is it changes when channels are
created. In the traditional approach, you create channels when volume on
a particular topic gets too high, and you want a place for it to go,&lt;label class="margin-toggle sidenote-number" for="fn2"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn2" type="checkbox"/&gt;&lt;span class="sidenote"&gt;We do occasionally do this of course. We created
#dubious-ontologies when sandwich discourse took over #chatter for the
third day running, and we branched off #slay-the-spire from #games
because Slay the Spire conversation was dominating too much and people
wanted a space where they could talk about games despite not being
interested in Slay the Spire.&lt;/span&gt; while on my discord I create
channels when there’s a particular topic I want to encourage more
conversation about (or when someone else suggests similar) and creating
a channel for it invites that conversation.&lt;/p&gt;


&lt;p&gt;On top of that… This system obviously works better on a bunch of
specific practical factors, but to me the most important part of it is
that it removes a general background level of… cop behaviour from the
discord. In places where there’s a big focus on staying on topic, it
feels like everyone is constantly policing other people using a channel
wrong, and everyone is constantly worried that they might be using a
channel wrong, and this creates a pervasive background of low-grade
suspicion and anxiety that I don’t think is good for anyone, and in
general I really recommend designing systems that don’t make everyone
lightly miserable.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2024-02-04-13:26.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2024-02-04-14:50.html</id>
    <title>Help is easy to find these days</title>
    <updated>2024-02-04T15:38:04+00:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;Help is easy to find these days&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2024-02-04&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;I’ve previously written &lt;a href="https://notebook.drmaciver.com/posts/2022-06-05-14:53.html"&gt;Getting
to know the right people&lt;/a&gt; about how it’s very hard to find quality
tradespeople and the best way to do it is through networking from
existing quality tradespeople, but there’s a bootstrapping problem of
how you find the original ones. I’ve now figured out the solution to
this problem and it’s sortof embarrassingly easy.&lt;/p&gt;


&lt;p&gt;It’s this: You find your local Facebook group&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;You almost certainly have a local Facebook group. I live
in a small town and there’s a 20k strong group for it and a few
neighbouring towns. Looking at the last two places I lived in London I
also find such groups&lt;/span&gt; and
ask there whether anyone can recommend someone to do this. This will
give you a mix of potential candidates responding to you directly and
recommendations from people who have had good experiences. The latter
aren’t &lt;em&gt;necessarily&lt;/em&gt; trustworthy, but they’re still a decent
positive signal.&lt;/p&gt;


&lt;p&gt;I wrote about this a bit in &lt;a href="https://notebook.drmaciver.com/posts/2024-01-20-12:01.html"&gt;the
post on developing capacities&lt;/a&gt;, but I’m taking advantage of it again
right now and it felt like it was worth its own post, where I used the
group to find a PA.&lt;/p&gt;


&lt;p&gt;The PA in question unfortunately hasn’t really worked out, which is
representative of the problem in the original “getting to know the right
people” post. The title of this post is &lt;em&gt;help&lt;/em&gt; is easy to find
these days, but that doesn’t mean &lt;em&gt;good&lt;/em&gt; help is. You still have
to find reliable people. But with the PA not having worked out, I’ll
just be going back to the original post and looking through the 5-10
other responses. There are plenty of candidates, some of whom are
vouched for, and it’s easy enough to try them out.&lt;/p&gt;


&lt;p&gt;I’ll have to find a different trial task though, because now that
I’ve got this approach just finding us a cleaner is a bit too easy of a
task. I’ve replied to a cleaner who got in touch regarding our initial
PA posting (I mentioned this as an example task there) and they’re
coming by on Thursday.&lt;label class="margin-toggle sidenote-number" for="fn2"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn2" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Or possibly they’ll come by on Thursday, be a disaster,
and we’ll have this task live again. Who knows?&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;But for me this is a much easier approach than previously where I was
using Google, because there I have to search, then I have to contact
them, and so on. Cold contacting is the worst, and also it tends to
result in a very rate of non or negative answers. e.g. when I last
looked for cleaners I did try contacting a couple and none of them had
availability. In contrast, asking for people on the Facebook group
heavily selects for people who have availability, and more importantly
they will come to you for you to respond to, which is much easier.&lt;/p&gt;


&lt;p&gt;I think it particularly helps to start this with lots of easy
problems, because then you end up building up a network of people early
on before you really need it. e.g. A cleaner or a PA are much lower risk
things to try out than a plumber, because when they get things wrong it
doesn’t generally flood your house.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2024-02-04-14:50.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2024-02-05-12:38.html</id>
    <title>Yelling at the problem usually doesn’t work</title>
    <updated>2024-02-05T12:54:06+00:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;Yelling at the problem usually doesn’t work&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2024-02-05&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;Let me tell you a little debugging story I’ve had, or rather mostly
failed to have, for a few months.&lt;/p&gt;


&lt;p&gt;I got some airpods pro. This is a somewhat questionable life choice
because although I have a mac, I also have an android phone, and as such
Apple considers me a second class citizen of the airpods ecosystem. To
add to my crimes, I don’t even use iCloud (this will be relevant
later).&lt;/p&gt;


&lt;p&gt;At some point, my airpods developed the most absolutely infuriating
bug: They would just randomly make chirping noises. Usually when I
opened or shut the case (it wasn’t charging noises - I’d turned those
off) but sometimes just for the hell of it with no particular prompting,
rhyme, or reason.&lt;/p&gt;


&lt;p&gt;I did some googling, asked around, and nobody seemed to have any
ideas as to what was up. It was generally concluded that probably the
solution to this was to connect them to my iphone and see what the info
there said.&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;I’m actually not convinced it would have said any more
than connecting them to my mac would, but I don’t know for sure.&lt;/span&gt; This was, of course, unhelpful.&lt;/p&gt;


&lt;p&gt;So, I adopted a reasonable and sensible debugging strategy in which I
systematically appraoched the problem and, err… OK that’s not what
happened. What actually happened is that I gave up on trying to fix it
and got angry at the fucking stupid unreasonable behavior of this shitty
device that Apple had inflicted on me, and cursed the name of every
Apple developer, and shouted at the airpods to shut the fuck up.&lt;label class="margin-toggle sidenote-number" for="fn2"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn2" type="checkbox"/&gt;&lt;span class="sidenote"&gt;I have a reasonable and proportionate utter loathing to
the point of murderous rage of devices that make noise when they
shouldn’t, but this is a particularly egregious example because &lt;em&gt;the
entire point&lt;/em&gt; of headphones is that you want to listen to something
&lt;em&gt;without&lt;/em&gt; making a noise that bothers other people, and also
because I’ll often want to have headphones in my bedroom and, well, I do
not appreciate random chirping in the middle of the night&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;It seems to be a recurring theme that I run into the most absolutely
cursed behaviour from Apple and every Apple user I talk to swears blind
that this &lt;em&gt;never&lt;/em&gt; happens and I probably shouldn’t have spat on
the grave of Steve Jobs that one time or whatever dreadful sin it was I
must have committed to get some egregious behaviour from the
near-saintlike level of quality you get from products produced by Apple,
and this just felt part of that pattern, so I didn’t do anything about
it.&lt;/p&gt;


&lt;p&gt;Anyway, this went on for a few months, because I do not always
practice what I preach.&lt;/p&gt;


&lt;p&gt;Then, yesterday, I tried to connect my airpods to my phone (I’ve done
this before, but for reasons I no longer remember had dissociated them
from it) and saw that the name of the bluetooth device was “Airpods -
Find My”.&lt;/p&gt;


&lt;p&gt;At that point I realised what had happened and swore a lot.&lt;/p&gt;


&lt;p&gt;At some point relatively early in my use of the airpods I was trying
to find where I’d left the case, so I turned on Find My mode on them on
my mac. Except, I didn’t, because as a non-iCloud user I got half way
through trying to do this and discovered that I’d have to log into
iCloud and I couldn’t be bothered to do that, so I started the process
and gave up. Apparently my airpods had been in Find My mode ever since
and the stupid chirping was a way of saying “Here I am! Here I am! I’m
not lost! Look over here!”.&lt;/p&gt;


&lt;p&gt;I spent about 30 seconds of thought at that point about trying to
figure out how to dissociate them from Find My and then realised what I
should have done all along: I factory reset the airpods, and the problem
went away.&lt;/p&gt;


&lt;p&gt;When I described the bug, the response I got was “Oh yeah, that makes
sense, that feature is super buggy”. This is also what happens every
time I figure out the cause of the allegedly uniquely cursed behaviour
that only I experience with Apple products.&lt;/p&gt;


&lt;p&gt;The frustrating thing about this from a personal level is that I let
this problem go on for so long when the solution is so easy, but it’s
interesting to realise that it would have forever remained a mystery if
I hadn’t. Factory resetting the airpods would always have worked, but it
would also have destroyed the information that I only later acquired by
chance. This still would have been a huge net win, but it’s not obvious
to me how I could have accelerated the process of acquiring this
information &lt;em&gt;and&lt;/em&gt; fixing the problem.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2024-02-05-12:38.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2024-02-06-10:51.html</id>
    <title>Taking responsibility for failure</title>
    <updated>2024-02-06T11:42:06+00:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;Taking responsibility for failure&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2024-02-06&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;Up front warning: I am about to be super judgy. Also, I’m angry, and
correct,&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;There is an argument for cultural relativism here, and I
in some sense buy this is a valid argument to be made, but I consider it
an important cultural touchstone for me that while you are entitled to
your own culture’s beliefs and practices, my cultural practice in
response to them is allowed to be that you can fuck right off.&lt;/span&gt; and will brook little argument on
this subject.&lt;/p&gt;


&lt;p&gt;There’s an ethical norm I consider blindlingly obvious, like a basic
prerequisite of taking part in a functioning society, that is clearly
not widely shared given how many people fail to meet it. I do not think
this is a failure of the norm.&lt;/p&gt;


&lt;p&gt;The norm is this: If I rely on you for X, and it is reasonable for me
to do so (e.g. you have promised that X, X is a normal part of your job,
X is something you obviously have an obligation to do like not running
into me), then when you don’t do X, or do X in a way that is clearly
inadequate or harmful, you take responsibility for this fact.&lt;/p&gt;


&lt;p&gt;If you do not adhere to this norm I will judge you very harshly, and
will probably seek to minimise any interaction with you where the
consequences of your actions are in any way relevant to me. Also I will
think you are a terrible person, and I will be right.&lt;/p&gt;


&lt;p&gt;Importantly: This doesn’t mean that you can’t fail to do X. It
doesn’t even mean you can’t &lt;em&gt;repeatedly&lt;/em&gt; fail to do X. It doesn’t
even mean you have to do a terrible act of self flagellation every time
you fail to do X.&lt;/p&gt;


&lt;p&gt;Most of the time, I’m not expecting much more than a “sorry”.&lt;/p&gt;


&lt;p&gt;The specific prompt for writing this post is that I was trying to
book an appointment with someone recently. The email exchange went
something like this:&lt;/p&gt;


&lt;blockquote&gt;
&lt;p&gt;Me: I’d like to book an appointment.&lt;/p&gt;
&lt;p&gt;Them: OK I can do next Wednesday at noon or the Monday after at
9:45.&lt;/p&gt;
&lt;p&gt;Me (immediately replying, like within minutes): I can’t do Wednesday
but the Monday slot is perfect, thanks, let’s do that.&lt;/p&gt;
&lt;p&gt;Them (three days later): OK I can do Monday at 8:45&lt;/p&gt;
&lt;p&gt;Me: Uhhh… that’s not what you said before? I can do 8:45 if needs be
but I’d rather not.&lt;/p&gt;
&lt;p&gt;Them: Yes I booked someone else in that slot.&lt;/p&gt;
&lt;p&gt;Me: It’s not ideal but OK.&lt;/p&gt;
&lt;p&gt;Them: I did it again but I can still do that day at 8:00&lt;/p&gt;
&lt;p&gt;Me (a day later after I waited long enough for the rage to subside
that I could make a clear decision and not spit fire in my email): I
don’t think I’m interested any more.&lt;/p&gt;
&lt;/blockquote&gt;


&lt;p&gt;I want to be clear: The problem here is not, primarily, their
organisational skills. Their organisational skills &lt;em&gt;are&lt;/em&gt; bad, but
I was booking a long appointment and I think they have two calendaring
systems they’re manually reconciling for their normal appointments and
their long appointments. This isn’t great behaviour, but it’s an
understandable thing to have difficulties with, especially temporary
ones (though I personally deeply doubt that these are temporary).&lt;/p&gt;


&lt;p&gt;The problem is that at &lt;em&gt;no point&lt;/em&gt; in this interaction did they
in any way indicate that their behaviour was a problem or that they were
even slightly sorry for that. They barely even acknowledged that they
were doing it. This entire interaction could so easily have been rescued
with words to the effect “I’m really sorry, I’m (e.g. having trouble
with my calendaring system), can you do this time instead?”. I’m not
looking for perfection, I’m looking for a basic acknowledgement of the
fact that you understand that your actions have consequences for others
and that those consequences are your responsibility.&lt;/p&gt;


&lt;p&gt;I’ve had plenty of similar interactions where someone has had to move
their appointment with me, even an initial appointment, due to
childcare, illness, etc. Sometimes I’ve been that someone to other
people. It’s just not a big deal, all you need is an acknowledgement of
the fact that you’re doing it, an explanation that gives enough
accountability that you know that it’s not just “I don’t really care
about you enough to be reliable”&lt;label class="margin-toggle sidenote-number" for="fn2"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn2" type="checkbox"/&gt;&lt;span class="sidenote"&gt;and to be clear, it’s not the end of the world if you
just accidentally flaked. I’ve got to be honest, I’ll be a bit pissed
off even if you apologise, but these things happen and if you seem
adequately sorry for flaking I’ll probably let it slide a couple of
times, and it’s not like I’ve never done this to anyone myself.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;In this particular case her response to my final email &lt;em&gt;also&lt;/em&gt;
failed to acknowledge any wrongdoing (“Thank you for letting me know”),
which I consider an extremely validating meta failure of this norm: It’s
not a norm I expect perfect adherence to, but I do think that when
you’ve failed to adhere to it you owe an apology for that too.&lt;/p&gt;


&lt;p&gt;I find this sort of interaction particularly frustrating because the
thing I am looking for is so low effort, but there’s another version of
this, when the impact of the failure is quite large.&lt;/p&gt;


&lt;p&gt;When I was first setting up my business I had an accountant. I forget
the exact thing, but at some point they sent me a form to fill out.
Except… it was already filled out. By someone else. With her personal
details, including home address, bank account, etc. all in the form. I
replied pointing this out and telling them that I had deleted the
information locally but that this was really bad.&lt;/p&gt;


&lt;p&gt;I think their reply &lt;em&gt;did&lt;/em&gt; include the word sorry, but it was
very casual. I was looking for something more along the lines of “Oh
shit”.&lt;/p&gt;


&lt;p&gt;This was a &lt;em&gt;major&lt;/em&gt; failure. It’s the sort of major failure
where it’s not just the fact that the failure occurred that is
significant, it’s that the failure could have occurred at all. As an
accountant, not sharing your clients’ confidential financial information
is a pretty key part of your job, and making sure that you don’t do that
is part of the basic structure of running an accountancy firm.&lt;/p&gt;


&lt;p&gt;What I was looking for here that would have satisfied me was
something along the lines of “That was really bad. It shouldn’t have
happened. We’re going to figure out why it happened and do our best to
make sure it doesn’t happen again”. What I got was a vague apology and a
fresh form to fill out. Instead of a filled out form, they got fired.&lt;label class="margin-toggle sidenote-number" for="fn3"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn3" type="checkbox"/&gt;&lt;span class="sidenote"&gt;This was actually the second major error from them. I
can’t talk about the first, but in retrospect I should also have fired
them for that.This was a serious enough error that I’m not sure it’s
plausible that they could have rescued the interaction, but a show of
taking it seriously would at least have meant that I didn’t quite so
actively warn anyone I knew off using them. I would instead have said
something like “I’ve had bad experiences with them. They showed willing
to improve. If you think they’re your best option, go for it, but be
alert for red flags.”&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;I think some people behave this way because they genuinely don’t
care, but a lot of people behave this way because they don’t want to be
blamed and feel like if they acknowledge responsibility they will be.
But I already blame you, because it’s already obviously your fault, and
trying to pretend otherwise isn’t fooling anyone, it’s just making you
look worse.&lt;/p&gt;


&lt;p&gt;Ultimately, this is a question of trust. I don’t need to be able to
trust you perfectly to interact with you - there’s nobody I trust
perfectly (though many I trust a great deal), that’s not what I’m
looking for. What I’m looking for is the possibility that there can be
trust between us, and that you behave as if your actions and their
consequences for me matter, and if you don’t do that then I do not want
to interact with you until you find a way to become a better person.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2024-02-06-10:51.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2024-02-07-07:44.html</id>
    <title>The obligation to be who you are</title>
    <updated>2024-02-07T09:40:30+00:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;The obligation to be who you are&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2024-02-07&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;This post is extremely in the weeds. If you don’t care about moral
philosophy, it’s possibly not for you, though I do think the claim I am
making has important practical implications beyond the theoretical
argument. Also I ran out of steam towards the end.&lt;/p&gt;


&lt;p&gt;Anyway, the following footnote to &lt;a href="https://notebook.drmaciver.com/posts/2024-02-06-10:51.html"&gt;yesterday’s
post about responsibility&lt;/a&gt; sparked some discussion about moral
relativism.&lt;/p&gt;


&lt;p&gt;I’d like to stake out a particular position. First, I’m going to need
to stake out some idiosyncratic terminology.&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Possibly many of these have existing terms in the
philosophical literature, or the terms I’m using mean something subtly
different in the literature, but I’m a programmer so I haven’t done the
reading and have to rewrite things in my own terms to understand them.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;First, let’s sketch out what I mean by an &lt;strong&gt;moral
framework&lt;/strong&gt;. I’m not going to define this precisely, but I mean
something like a coherent body of theory and practice that lets you do
things like make judgements about “good” and “bad” and in particular to
make “should” claims, especially about behaviour. Ethical frameworks let
you make judgements about specific questions, and also have a body of
principles and practices for making arguments about moral claims.&lt;/p&gt;


&lt;p&gt;The boundaries of specific moral frameworks are fuzzy, and it can be
hard to point and say that two things you might think of as moral
frameworks definitively are the same, but it’s often easy to point out
that they’re definitely not the same by finding subjects on which they
disagree. e.g. someone operating in an moral framework that embraces
vegetarianism will disagree with someone who is non-vegetarian’s moral
framework around wether eating meat is bad.&lt;/p&gt;


&lt;p&gt;&lt;strong&gt;Moral realism&lt;/strong&gt; is the position that there is one&lt;label class="margin-toggle sidenote-number" for="fn2"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn2" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Up to isomorphism.&lt;/span&gt; correct moral framework and all
others are good to the degree they approximate that framework.&lt;label class="margin-toggle sidenote-number" for="fn3"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn3" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Note that this doesn’t require making a claim that a
particular moral framework is the objectively correct one, or even that
the objectively correct one is in principle fully discoverable.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;&lt;strong&gt;Moral relativism&lt;/strong&gt; is the position that there are at
least two moral frameworks that disagree on crucial details and that you
cannot decide between in a non-arbitrary way.&lt;label class="margin-toggle sidenote-number" for="fn4"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn4" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Note that, at least how I use it, moral relativism is
compatible with the claim that some moral frameworks are objectively
better than other moral frameworks. It doesn’t require that you can’t
decide between &lt;em&gt;any&lt;/em&gt; two moral frameworks in a non-arbitrary way,
only that there are genuine degrees of freedom in how you adopt an moral
framework.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;I’d like to then subdivide these further:&lt;/p&gt;


&lt;p&gt;&lt;strong&gt;Abstract&lt;/strong&gt; realism/relativism is the set of claims of
realism and relativism respectively as regards to whether the moral
framework is theoretically defensible. i.e. it’s a claim about which one
is in some sense “objectively correct”.&lt;/p&gt;


&lt;p&gt;&lt;strong&gt;Practical&lt;/strong&gt; realism/relativism is about how you orient
to other people operating in other moral frameworks than your own, and
whether you treat their moral frameworks as valid for them. This is more
a matter of degrees than the theoretical version is I think (or at
least, certainly is a matter of degrees, and if the theoretical one is
then it’s not obvious to me).&lt;/p&gt;


&lt;p&gt;I think it’s clear that everyone operates on some minimal degree of
practical realism, in that people disagree about ethics without needing
to constantly argue about it, and it’s quite important that in a
multicultural society people be allowed to do this.&lt;label class="margin-toggle sidenote-number" for="fn5"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn5" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Even if you think multiculturalism is bad, you still
have to deal with the fact that other cultures exist and you have to
interact with them. I will grant that someone who is a total cultural
isolationist may not be operating on any degree of practical relativism,
but that would be one of those moral frameworks that I do think is
objectively worse than others.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;But I’d like to argue for the compatibility of a particular moral
claim that demonstrates the compatibility of strong forms of abstract
realism with practical relativism, based on the following claim: Given
two people, let’s call them Alex and Charlie, who agree on a shared
moral framework (which I’ll make certain implicit basic assumptions
about not being too alien from my own) as the “universally correct” one,
it is possible (and indeed likely, although I won’t argue for this too
strongly), for Alex and Charlie to want to adopt more specific moral
frameworks for their behaviour that make stronger claims than their
shared framework, and each of which make moral claims that are
incompatible with the other’s.&lt;/p&gt;


&lt;p&gt;In this view, even if Alex and Charlie are both abstract moral
realists and think that their shared moral framework is objectively
correct, they become practical moral relativists of a particularly
strong form: Each has their own “moral truths” that do not apply to the
other, and they consider both binding for themselves and non-binding for
the other, without thinking the other is wrong for holding their own
moral framework.&lt;/p&gt;


&lt;p&gt;First, let’s consider two categories of example where Alex and
Charlie make different moral judgements about their own behaviour that
are &lt;em&gt;not&lt;/em&gt; examples of relativism, but will point us in the right
direction:&lt;/p&gt;


&lt;ol type="1"&gt;
&lt;li&gt;Should I kiss this attractive person who is enthusiastically hitting
on me (and who satisfies all relevant criteria such as being e.g. above
the age of consent, unrelated to me, uncommitted to anyone else,
etc)?&lt;/li&gt;
&lt;li&gt;Should I build a bridge that I’ve been asked to build as part of my
job?&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;The first hinges on a particular person-centric question: Do I have
any obligations not to do that? e.g. am I in a committed monogamous
relationship with someone else?&lt;/p&gt;


&lt;p&gt;This isn’t moral relativism in that the actual moral principle being
adopted is something like “If you do not have any obligations that are
not committing you to not do so, go for it buddy”. What differs is not
the moral framework but the individual’s specific obligations.&lt;/p&gt;


&lt;p&gt;Note that this already gets you quite far towards relativism. If
e.g. you profess to be a devout Christian, this creates a significant
set of obligations to behave as a devout Christian, even if those moral
commitments are not ones that you would have in generality.&lt;label class="margin-toggle sidenote-number" for="fn6"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn6" type="checkbox"/&gt;&lt;span class="sidenote"&gt;For a sufficienly Christianity-incompatible objective
morality you might of course have an obligation not to be a devout
Christian. No comment here on whether that’s the case, just highlighting
the conditional.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;The second depends a lot on whether you’re good at building bridges
or not. If you are, and it’s your job (and you’re not in some outlandish
situation where the existence of the bridge itself would be immoral),
then yeah you probably should. If on the other hand you have no
bridge-building related skills, you should signal strongly that this is
not your thing and no you will not build a bridge because it falls
down.&lt;/p&gt;


&lt;p&gt;Again, similarly to the above, there is no actual conflict here. I
think you can quite straightforwardly make a moral principle of “don’t
do things you don’t have the skills to do, especially if peoples’ safety
is on the line” which both Alex and Charlie agree on and that just
happens to cash out differently depending on their respective
skills.&lt;/p&gt;


&lt;p&gt;Both of these point to a sort of “scoped moral framework” of a type
that I think should be perfectly uncontroversial even for the most
adamant of moral realists (though they might object to labelling it a
“moral framework”): The moral framework you get when you take your
broader moral framework and specialise it down to specific
characteristics of the person in question. The body of judgements etc of
what’s good and bad for someone who is a monogamous artist, or a poly
engineer, or…&lt;/p&gt;


&lt;p&gt;These scoped moral frameworks are, from a logically omniscient point
of view, just a subset of the broader moral framework. You just delete
the bits that don’t apply to you, and your behaviour will be perfectly
in line with the broader moral framework because all the bits that could
apply to you are the same as the broader framework’s judgements.&lt;/p&gt;


&lt;p&gt;But we’re not logically omniscient. We’re finite beings. And as a
result when you cut down your moral framework more of it comes into
focus and you get to see how more of the parts of it interact. If you
regularly have interactions of a particular type, even if you derive
those interactions from first principles in your broader moral
framework, you’ll get better at that particular action and subsequently
others like it, and this will clarify some of your obligations…&lt;/p&gt;


&lt;p&gt;Here’s a trivial example: When you leave the pub, do you take your
empty glasses back to the bar?&lt;/p&gt;


&lt;p&gt;If you’ve worked bar, or you know other people who have, you are
probably aware that this makes their lives much easier, especially if
the pub is busy right now. Having the relevant life experience makes you
aware of this, but the facts of the matter are derivable from perfectly
general principles, you just haven’t noticed.&lt;label class="margin-toggle sidenote-number" for="fn7"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn7" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Or possibly have a genuine disagreement about your
obligations in this space! But even without this genuine disagreement
you can have a different awareness of obligations.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;Here’s another similar example that went by recently:&lt;/p&gt;


&lt;p&gt;&lt;a href="https://twitter.com/Kirsten3531/status/1755148835083411515"&gt;&lt;img src="/images/baby-plate.png"/&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;I think this is perfectly obvious if you have the relevant life
experiences, and does not require those relevant life experiences to act
on, but is easy to miss.&lt;/p&gt;


&lt;p&gt;Everyone is going to have their own collection of these little moral
duties&lt;label class="margin-toggle sidenote-number" for="fn8"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn8" type="checkbox"/&gt;&lt;span class="sidenote"&gt;If you don’t like the word duty here, me neither. Feel
free to pick some other word. I don’t have a good word that means “like
a duty but not really fully obligatory, just good to do” and while I
like &lt;a href="https://en.wikipedia.org/wiki/Ahkam"&gt;the Islamic
labels&lt;/a&gt; I don’t know how to idiomatically apply them here.&lt;/span&gt; that they adhere to. Even when they
are all derivable in principle from their shared understanding of what
leads to a moral duty, you’ll only have the ones you happen to have
learned, and the specific set will be idiosyncratic to you.&lt;/p&gt;


&lt;p&gt;More, it’s not even totally clear that these should all “port
upwards” to be general norms, because of our finiteness. I think it’s
pretty plausible that the collective set of these little moral duties is
too large for any one person to keep in their head and reliably
implement without exhausting themselves, and that we’re better served by
a degree of heterogeneity where different people keep track of different
ones. I think it would be far too happy a coincidence for the exact
distribution that occurs to be the morally optimal one, but I think it’s
at least plausible that it is morally optimal for there to be some
distribution like it.&lt;/p&gt;


&lt;p&gt;This creates a, I think intrinsically quite relativistic, stance of
“I acknowledge that this duty would be good to take on, and that it is
good that you have done, but I’m not going to choose to adopt it”.
Perhaps this is a &lt;a href="https://notebook.drmaciver.com/posts/2024-01-17-09:02.html"&gt;cheeseburger
ethics&lt;/a&gt; thing but it feels different to me.&lt;/p&gt;


&lt;p&gt;This also ties into the skill issue. Many of these duties exist
&lt;em&gt;because you notice things&lt;/em&gt;, and one of the key things expertise
does is change your perception of the world. Possessing a skill, even
when you’re not actively using it, can cause all sorts of things to come
into focus that you’d otherwise miss.&lt;/p&gt;


&lt;p&gt;Note for readers: It was at this point I started running out of steam
in writing this and wanting to wrap it up, so the rest will be more of a
sketch than I intended it to be.&lt;/p&gt;


&lt;p&gt;The other thing that I think drives these sorts of individual moral
duties is something like character. e.g. our professions don’t exist in
isolation. If we’re an engineer, we are implicitly committing to being
the sort of person who can do engineering well, and this will tend to
bleed into other areas &lt;em&gt;and we should probably let it&lt;/em&gt;.&lt;/p&gt;


&lt;p&gt;For example, another thing that came up in discussion of the
responsibilities post is that, as (responsible) software developers,
when problems occur with systems we see, we want to fix the system not
just the problem, and this isn’t widely shared. It seems both good to
retain this habit, both because it’s generally useful and also because
it’s part of the habit of character that allows us to be good at our
jobs, but also it’s sortof hard to argue that it’s a moral duty for
someone who doesn’t have a great deal of professional feedback on how to
develop this skill to also do these things, and a little unreasonable
for us to expect them to understand it when we try to point this out.&lt;label class="margin-toggle sidenote-number" for="fn9"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn9" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Though I still want them to fix the issue, dammit.&lt;/span&gt; This is the skill issue again, but
running in the other direction: It’s not just that the skill alerts us
to obligations that we already have, but that trying to suppress the use
of it is in some sense detrimental to our character as developers.&lt;/p&gt;


&lt;p&gt;All of this remains fully compatible with the possibility of a shared
broad moral framework, but the problem is that you can’t really
implement the fully worked out broad moral framework on humans. If Alex
and Charlie have their own moral frameworks with their own well thought
out details, there almost certainly &lt;em&gt;is&lt;/em&gt; a moral framework that
unifies the two - it’s the shared framework, as implemented by someone
who has full knowledge of all of Alex and Charlie’s experiences and
possesses all of their skills. The problem is, taking that union quickly
exceeds human capacities.&lt;/p&gt;


&lt;p&gt;For my part, I find it easier to think about this in terms of people
just having different moral frameworks. There are practices for sharing
things between our moral frameworks and a broad practice of moral
discourse, and in general we should expect our moral frameworks to be
more or less similar to those we share characteristics with and discuss
our lives with, but there remain plenty of incompatibilities where I can
acknowledge your moral duty as a moral truth for you, but choose not to
take it on as my own..&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2024-02-07-07:44.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2024-02-16-11:33.html</id>
    <title>Silently losing critical life infrastructure</title>
    <updated>2024-02-16T12:59:48+00:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;Silently losing critical life infrastructure&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2024-02-16&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;I’ve been having a pretty bad time recently. I don’t intend to talk
about the details, but suffice it to say I’ve been extremely stressed,
depressed, and anxious, and my appetite and sleep have completely fallen
apart.&lt;/p&gt;


&lt;p&gt;This isn’t about that, not directly. It’s about some interesting
things that this has revealed about my personal infrastructure for
supporting my mental health.&lt;/p&gt;


&lt;p&gt;One piece of infrastructure is the daily writing. That completely
dropped off during this period, as you’ve probably noticed. I think
that’s… fine. The daily writing is absolutely intended as a mood and
meaning-making support, but it’s designed for chronic conditions, and I
think in acute cases it diverts resources that probably need to be spent
elsewhere. I’m not sure that’s true, but it felt impossible to continue,
so I didn’t. Maybe that was a mistake but I’m not sure what I could have
done differently at the time.&lt;/p&gt;


&lt;p&gt;Another piece of mental health infrastructure that &lt;em&gt;hasn’t&lt;/em&gt;
fallen off on the other hand is exercise. I’ve kept going to Pilates,
I’ve kept going to the gym. I haven’t necessarily done a great job of
it, but I’ve kept going and that’s I think been helpful. Insufficient to
solve the problems, but that’s a bit much to ask of it. The fact that it
was somethign that I could just show up to and it’s fine even if I don’t
particularly engage with it made it infrastructure that didn’t fall
apart in a crisis.&lt;/p&gt;


&lt;p&gt;Another thing I’m tentatively chalking up to an infrastructure
success is that, astonishingly, I haven’t really got significantly ill
during this time period, despite illness sweeping the house. This might
be my body going “I don’t have time to get ill!!!” and I’m going to get
every cold at once when I finally relax, but I’m chalking this up as
tentative evidence that &lt;a href="https://notebook.drmaciver.com/posts/2024-02-01-15:09.html"&gt;this
nonsense zinc mouthwash I’m using&lt;/a&gt; really is doing something.&lt;/p&gt;


&lt;p&gt;But there are two interesting major failures of infrastructure, which
it turns out fell apart before things went wrong and I only discovered
that they’d fallen apart too late.&lt;/p&gt;


&lt;p&gt;The first is that I’d run out of sleeping pills months ago. This is,
in the normal course of things, absolutely fine. A normal heavy period
of using sleeping pills for me involves taking half a tablet in a month,
and I’d figured out non-chemical tools for getting to sleep on difficult
nights, so when my single packet of sleeping pills that I’d had for over
a year ran out, I didn’t think it was worth renewing. It took me until
my third night on two hours of sleep to realise that this was
incorrect.&lt;/p&gt;


&lt;p&gt;Fortunately I managed to get an emergency sleeping pill prescription
on a Friday and took half a pill every night for a few nights until the
worst of the acute night-time anxiety had passed. I’m now (thankfully, I
hate the experience of using them, I just hate it less than the
experience of not using them when I need them) managing to sleep merely
badly without them, so I’m back to not using them again, but they were
an absolute life saver both for getting through the bad nights and also
for being functional enough to get things moving in the right
direction.&lt;/p&gt;


&lt;p&gt;I don’t necessarily want to say that it was a mistake to not renew my
sleeping pill prescription. I genuinely thought I didn’t need them any
more, and I’ve gone most of my life just fine without having them. I
think it was an arguably reasonable call at the time. But I’m sure not
going to let myself be in a situation where I don’t have any sleeping
pills left again.&lt;/p&gt;


&lt;p&gt;I think this is an interesting example because the sleeping pills are
very much dampeners for low probability events. The normal events they
damp out are something like 3% probability events, and are survivable
without them. Nights like I’ve been having recently where I get 2 hours
sleep are maybe something like… 0.2% probability events, in that I maybe
get a night that bad every few years. Having several nights like that in
a row is too unprecedented for me to assign a probability. I think it’s
a proper black swan event for me, as I wouldn’t actually have predicted
it was possible - I’d have assumed the first night would exhaust me
enough that the second night I would sleep no matter how anxious I
was.&lt;/p&gt;


&lt;p&gt;So what happened is that all of the events of medium severity that
happened sufficiently often that I regularly encountered them were now
solved, and I incorrectly generalised from this to determine that the
infrastructure was no longer useful, and this turned out to be
incorrect.&lt;/p&gt;


&lt;p&gt;Anyway, having experienced this, I declared my lesson learned and
that I would no longer abandon infrastructure that was a solution to a
predictable class of problems, even if I thought it was no longer
necessary.&lt;/p&gt;


&lt;p&gt;This makes the second infrastructure failure especially
infuriating.&lt;/p&gt;


&lt;p&gt;A few days ago, I was talking to Lisa about how everything was
terrible and I was utterly miserable. Then I went to bed. Then I came
down about an hour later to get something, and we talked a bit, and she
noted that I’d perked up significantly in that hour. “Huh, have I?” was
my response, and I went back to bed.&lt;/p&gt;


&lt;p&gt;Then I introspected and decided she was right. It’s not that anything
had become less terrible than it was previously, but it sure felt more
manageable. There were major problems, but I could engage with them
rather than despair about them.&lt;/p&gt;


&lt;p&gt;Then I thought about it a bit more and realised that I was an
absolute fucking idiot.&lt;/p&gt;


&lt;p&gt;What had happened between those two times was that I’d gone “Oh yeah,
&lt;a href="https://acesounderglass.com/2023/09/08/luck-based-medicine-inositol/"&gt;inositol&lt;/a&gt;
helps with my mood, and I’ve got a bit left, maybe I should take some
inositol”, so I took some inositol.&lt;/p&gt;


&lt;p&gt;I’d stopped taking it a few months ago, not really through any
deliberate decision, it just stopped doing much for me. I attributed
this to the fact that my diet had improved and I was regularly taking a
probiotic. At some point I’d mostly run out and stopped having a regular
supplement regime so it just got quietly forgotten.&lt;/p&gt;


&lt;p&gt;Unfortunately, I stopped having a regular supplement regime, so I
also stopped reliably taking my probiotic.&lt;/p&gt;


&lt;p&gt;Also, as I got more stressed, my appetite was suppressed and I was
eating less well.&lt;/p&gt;


&lt;p&gt;So, apparently, quietly, all of the problems that inositol solved for
me previously, gradually and quietly came back, and because things were
actually terrible, and because I didn’t have a good poitn of comparison
of events on and off inositol, I didn’t realise that that was what was
happening.&lt;/p&gt;


&lt;p&gt;Anyway, I’ve been taking it regularly again for a few days, and the
effect has persisted. Everything is still terrible, but I’m more able to
cope.&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Admittedly there are some other improvements in the
situation which help, but there does feel like a qualitative difference
that I can’t explain with that alone.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;This is interestingly almost the polar opposite of the sleeping pill
thing, because it’s a chronic problem that gets worse in… I don’t want
to say non-obvious, because the results are very obvious, but let’s say
difficult-to-attribute ways… if I neglect the infrastructure
maintenance. I don’t realise I need it not because of the irregularity
of the events, but because of the regularity of the events. If I don’t
ever take the inositol, I don’t notice how large the impact of it is,
and the fact that my mental health infrastructure is in slow collapse
just looks like everything being terrible.&lt;/p&gt;


&lt;p&gt;I’m not sure I have a good generalised lesson from this other than
“Yes, David, you need to take the fucking inositol even if you don’t
think it’s doing something”, but I do want to share a related
observation from the other day.&lt;/p&gt;


&lt;p&gt;There are two different skills for dealing with anxiety. One of them
&lt;a href="https://notebook.drmaciver.com/posts/2020-05-20-17:58.html"&gt;I’ve
written about before&lt;/a&gt; and is about only feeling anxiety in situations
where it’s an appropriate response. But the other, equally important
one, is that when the appropriate response is a high level of anxiety,
you should be able to deal with it.&lt;/p&gt;


&lt;p&gt;In this case I couldn’t really say anxiety was inappropriate. &lt;a href="https://notebook.drmaciver.com/posts/2020-04-03-13:40.html"&gt;There
was a high level of uncertainty&lt;/a&gt; and it was legitimately scary&lt;label class="margin-toggle sidenote-number" for="fn2"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn2" type="checkbox"/&gt;&lt;span class="sidenote"&gt;There still is. But also there was.&lt;/span&gt;. But &lt;em&gt;boy&lt;/em&gt; was I not able to
deal with it. At the time I thought this was a generalisable thing about
me, and to some degree it is, but in retrospect I was dealing with it
much less well than I might have.&lt;/p&gt;


&lt;p&gt;So I guess this leaves me with the following question: If you’re
struggling to deal with something, is this maybe because the
infrastructure you’d use to deal with it has collapsed or gone away and
you didn’t notice because you didn’t think you needed it any more?&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2024-02-16-11:33.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2024-03-16-13:07.html</id>
    <title>Finding exercise motivations that work</title>
    <updated>2024-03-16T14:58:28+00:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;Finding exercise motivations that work&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2024-03-16&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;I’ve &lt;a href="https://notebook.drmaciver.com/posts/2024-01-02-12:48.html"&gt;mentioned
before&lt;/a&gt; that I have 3 aspirations for this year, and that one of them
is health and exercise.&lt;/p&gt;


&lt;p&gt;That’s been going pretty well (unlike the other two - writing went
well for a while and then became erratic, but should be improving soon
to nowish. I continue to be bad at seeing friends), and I think one
reason why is that I’ve finally hit on a motivation that actually works
for me for &lt;em&gt;wanting&lt;/em&gt; to exercise, as opposed to merely wanting
the results of exercising.&lt;/p&gt;


&lt;p&gt;It’s this: I now have specific movements or positions that I look at
and feel that I want to be able to do them, and incremenetal
improvements in that direction feel motivating.&lt;/p&gt;


&lt;p&gt;In contrast, many of the motivations other people have for exercising
don’t work for me. For example some people do it for the endorphin rush
(I get no appreciable endorphin rush from exercise), and some people
find making numbers go up satisfying - e.g. number of reps, amount of
weight lifted (I’m not intrinsically opposed to making numbers go up but
I need a tighter feedback loop to care about it unless I have some
particular reason to care about these numbers in particular).&lt;/p&gt;


&lt;p&gt;In contrast, specific movements feel easy to orient towards in a way
that makes me want to do more exercise, which sets me up in a virtuous
cycle - the more exercise I do, the more related things I encounter that
feel motivating to try to achieve.&lt;/p&gt;


&lt;p&gt;There are two core things that are working for me this way: Asian
Squat (flat footed squat as a resting position) and crow pose (aka
bakasana - a sort of crouched hand stand).&lt;/p&gt;


&lt;p&gt;Why these in particular?&lt;/p&gt;


&lt;p&gt;Asian Squat is partly prompted by a variety of youtube videos - I
think I originally got into it because of Taro Iwamoto’s Feldenkrais
channel, but it might equally have been Upright Health or one of several
others. They’ve got plenty of good reasons as to why this is an
important thing to be able to do, but those don’t really motivate me
that much.&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;I mean they do a bit in that one of the goals of my
exercise program is to not be in pain and these connect up to that, but
that doesn’t feel quite enough to be a complete motivation.&lt;/span&gt; What actually motivates me about it
is that it feels like a motion I &lt;em&gt;should&lt;/em&gt; be able to do. I squat
down a lot and I’d like to be able to maintain a squat indefinitely as a
seating position, and it feels sortof ridiculous that in that position I
can’t actually get my heels down to the floor without something to help
me balance forward.&lt;/p&gt;


&lt;p&gt;One piece of context here is that I’m quite hypermobile, and it feels
like there’s a lot of positions that I just naturally should be able to
do and can’t any more because I’ve stiffened up in bad ways. So a lot of
the “I should be able to do this” feeling here is something like “This
feels like a part of my body’s natural range of movement that I’ve
lost”, and so the feeling that it’s ridiculous that I can’t do it is
nicely aligned with my goals of trying to improve.&lt;/p&gt;


&lt;p&gt;Crow pose on the other hand has a very different felt sense
associated with my desire to do it: Crow pose looks really fucking
cool.&lt;/p&gt;


&lt;p&gt;This isn’t all of it, don’t get me wrong. I wouldn’t do something
that I &lt;em&gt;disliked&lt;/em&gt; doing for that reason, and crow pose and things
like it are reasonably fun. But the thing that makes me actively want to
be able to do crow pose properly is that it makes you look like a
badass, and correspondingly feel like one, and apparently that’s
motivating to me.&lt;/p&gt;


&lt;p&gt;I’m not sure anyone is going to look at my current attempts at crow
pose (I can sometimes manage about 5-10 seconds of a fairly shaky crow
pose) and have that reaction, but I must admit I do for a fraction of a
second feel like a god when I manage to get both feet off the ground and
balance on my hand. At some point I’m sure I’ll stop feeling impressed
with that, but hopefully by that point I’ll have gotten crow pose good
enough that there will be other moves to aspire to.&lt;/p&gt;


&lt;p&gt;Sasha has a recent post &lt;a href="https://sashachapin.substack.com/p/theres-nothing-wrong-with-doing-things"&gt;There’s
nothing wrong with doing things because you want to look good&lt;/a&gt; about
how it’s OK to do exercises that focus on building muscles that will
look good rather than on pure functional strength. I 100% endorse this
message, but also have absolutely no interest in following this advice
myself - if anything, I think my exercise motivations end up lining up
more with the functional strength crowd than building a nice ripped
upper body.&lt;/p&gt;


&lt;p&gt;Nevertheless, I think that spiritually my goal is very similar to
his: I want to be able to move in a way that makes other people go “holy
shit, wow”.&lt;/p&gt;


&lt;p&gt;I think if I’d paid attention I’d have noticed that this was
something I found motivating long ago. I have a memory of my cousin and
his wife practicing yoga at a family reunion some time ago&lt;label class="margin-toggle sidenote-number" for="fn2"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn2" type="checkbox"/&gt;&lt;span class="sidenote"&gt;10 years? Closer to 20? It’s unreasonable that I have
this much history to index. I would like to file a bug report about the
passage of time.&lt;/span&gt; and
doing a bunch of exercises that triggered precisely this sort of awed
reaction.&lt;/p&gt;


&lt;p&gt;At the time I was bad at recognising that I wanted things,&lt;label class="margin-toggle sidenote-number" for="fn3"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn3" type="checkbox"/&gt;&lt;span class="sidenote"&gt;I still am, but I was at the time too.&lt;/span&gt; so this didn’t in any way turn into
a sense of “I want to be able to do that”, and trying to attribute that
sense retrospectively may be fake but I do think it was probably
there.&lt;/p&gt;


&lt;p&gt;I’ve increasingly been feeling like there’s an interesting
intertwining of exercise and therapy skills - a lot of the time in
pilates, figuring out what was going wrong with a particular exercise
involves a similar sort of paying attention to a felt sense and how to
work with it that I’ve learned in Focusing style therapy, which often
leads into a particular series of mental motions that feels like
rummaging around for the right muscle and how to engage it.&lt;label class="margin-toggle sidenote-number" for="fn4"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn4" type="checkbox"/&gt;&lt;span class="sidenote"&gt;I particularly have this with feet. I don’t know why,
except that feet are complicated and I don’t use mine very well.&lt;/span&gt; This movement-focused sort of
exercise motion feels like it’s even more at the intersection of the
two, because it involves finding out how my body wants to move and then
learning how to do that.&lt;/p&gt;


&lt;p&gt;Although Asian Squat and Crow Pose are the two current big
motivations, it doesn’t really stop there, because this often comes out
in small things.&lt;/p&gt;


&lt;p&gt;Here’s an example: I have a place in my study where I’ve stacked up
two tatami mats (why two? Well because I had two from a previous place,
but only had space for one, so I just put one on top of the other).
Often I sit on the edge of them. I noticed recently that I couldn’t
actually easily get up directly from that position - I couldn’t get my
legs to engage in the right way. I could do it easily enough by rocking
forward of course, and using my hands makes it trivial&lt;label class="margin-toggle sidenote-number" for="fn5"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn5" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Ages ago I heard that inability to get up from the floor
without using your hands was one of the strongest predictors of things
going very badly for you in old age and ever since then I’ve been
low-grade obsessed with how I get off the floor from sitting and making
sure I almost never use my hands.&lt;/span&gt;,
but going straight from butt-on-the-mat to vertical felt almost
impossible. A little bit of practice later it’s mostly trivial. This
turned out to be almost all about finding the right way to engage my
muscles, not really about strength.&lt;/p&gt;


&lt;p&gt;Other things that I’ve noticed are motivating include:&lt;/p&gt;


&lt;ul&gt;
&lt;li&gt;I want to be able to bend over, straight legged, and put my palms on
the floor.&lt;/li&gt;
&lt;li&gt;I want to be able to put my foot behind my head.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;These might seem like uh stretch goals for a 40 year old man, but
honestly they’re pretty close to being within my capabilities. I can get
pretty close to straight-legged with my palms on the floor, though it’s
a fairly intense stretch, and head to foot is a perfectly viable (if,
again, intense) position for me. As I said, hypermobile. It’s a
superpower as well as a curse.&lt;label class="margin-toggle sidenote-number" for="fn6"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn6" type="checkbox"/&gt;&lt;span class="sidenote"&gt;It’s a curse because I’ve never learned to use it
properly and this is, I think, where all my chronic pain comes from.&lt;/span&gt; I don’t know if I’ll
ever be able to fully do these, but they do feel like they’re at least
pointing in a good direction.&lt;/p&gt;


&lt;p&gt;On top of this there’s a sort of character of movement that feels
desirable… something like “fluid strength” - it’s not just about the
positions, but about being able to move between them, and naturally
doing so all the time. It’s also about being able to just casually have
strength in day to day movements.&lt;label class="margin-toggle sidenote-number" for="fn7"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn7" type="checkbox"/&gt;&lt;span class="sidenote"&gt;Although TBH the only day to day movement where I really
need strength is a child who likes being picked up despite being
increasingly too tall for this.&lt;/span&gt; Something about that
sort of style feels fairly strongly desirable.&lt;/p&gt;


&lt;p&gt;A lot of the solution to this is just “do more yoga” of course, and I
am. I’ve been doing a little one-on-one yoga instruction recently, and
am going to start going to group classes with the same teacher this
week. If that goes well, I’ll probably add in a second one.&lt;/p&gt;


&lt;p&gt;But crucially I don’t think just going to yoga classes would have got
me to where I am. Maybe one-on-one instruction would have - one-on-one
pilates instruction was definitely instrumental in getting me to pay
attention to movement and strength and how it feels to notice what was
desirable - but I don’t think group classes could, because it’s not that
yoga is inherently motivating, it’s that there are specific
characteristics of it that are desirable. I’m worried that in a group
class I wouldn’t have been able to notice them because the environment
is so emotionally noisy.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2024-03-16-13:07.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2024-07-31-14:05.html</id>
    <title>Asymmetric vices and the unity of virtue</title>
    <updated>2024-07-31T14:16:15+01:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;Asymmetric vices and the unity of virtue&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2024-07-31&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;I was trying to find a post I’d written about this and then realised
it was &lt;a href="https://x.com/DRMacIver/status/1662193450450649092"&gt;a
Twitter thread&lt;/a&gt;. This post is just me copying out that thread and
lightly editing it for format so I have somewhere more stable to refer
to it.&lt;/p&gt;


&lt;p&gt;Aristotle’s conception of “virtue” is as a golden mean between two
vices: One of deficit, one of success. e.g. courage is the virtue that
lies between cowardice and foolhardiness.&lt;/p&gt;


&lt;p&gt;Something I realised is that there’s a sort of fundamental asymmetry
between these two vices. A vice of excess has a totally different
character from a vice of deficit. If you think of a virtue as a kind of
drive in a direction, one vice is a lack of that drive, but the other is
not in fact an excess of it.&lt;/p&gt;


&lt;p&gt;Take honesty as the virtue defined by valuing truth. A dearth of
valuing truth is certainly a vice. But the vice of being “too honest” is
not really about valuing truth too much. An excess of honesty is bad not
because too much truth is bad but because of non-truth considerations.
e.g. you’re overly blunt if you tell the truth without consideration for
others’ feelings. You’re foolhardy if you speak truth to power without
care for consequences.&lt;/p&gt;


&lt;p&gt;The vice of being overly honest is not that your drive to truth is
too strong, but that you’ve not stabilised it by taking into account
other things.&lt;/p&gt;


&lt;p&gt;What other things do you need to take into account? Anything you
value.&lt;/p&gt;


&lt;p&gt;Not everything you value is valued for good reasons. e.g. if you tell
or omit the truth in the circumstances where that is the right thing to
do, but it’s because you’re lazy and it’s too hard work in the cases
where you should be circumspect, that’s not true virtue even if results
are good.&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;In large part because this is not going to reliably
track the situations in which you should tell or omit the truth. If
somehow laziness were exactly tracking the right thing to do, I think it
would be reasonable to call it a virtue, but it doesn’t. Sometimes you
need to tell the truth even when it’s hard work.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;What’s a properly virtuous stabilising force?&lt;/p&gt;


&lt;p&gt;Well, another virtue.&lt;/p&gt;


&lt;p&gt;You are properly practicing the virtue of honesty if your desire for
truth is tempered by the other virtuous desires you’ve cultivated.
i.e. the proper exercise of a virtue requires that it be tempered by all
the others.&lt;/p&gt;


&lt;p&gt;This is not, I think, exactly what Aristotle means by the unity of
the virtues, but it’s pretty close.&lt;/p&gt;


&lt;p&gt;It is, however, partly an artifact of us insisting that there
&lt;em&gt;is&lt;/em&gt; a unified good to aim for, and it’s not clear that all such
goods unify the same way.&lt;/p&gt;


&lt;p&gt;If we take the drive towards truth, this is not naturally unified
with the drive to face fears. But once we allow for the fact that both
matter, we are forced to unify them in some way by allowing for there to
be an “appropriate” amount of each, in which each balances the
other.&lt;/p&gt;


&lt;p&gt;By defining virtues as the appropriate level of exercising individual
drives for the good, we demand their unity, because without unity we
cannot have a suitable notion of “appropriate”.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2024-07-31-14:05.html" rel="alternate"/>
  </entry>
  <entry>
    <id>https://notebook.drmaciver.com/posts/2024-09-22-14:28.html</id>
    <title>Set operations on SAT problems</title>
    <updated>2024-09-22T16:37:11+01:00</updated>
    <content type="html">

&lt;p class="subtitle"&gt;Set operations on SAT problems&lt;/p&gt;


&lt;dl class="metadata"&gt;
&lt;dt&gt;Published&lt;/dt&gt;
&lt;dd class="post-date"&gt;2024-09-22&lt;/dd&gt;
&lt;/dl&gt;


&lt;p&gt;I’ve figured out a neat trick recently that I’ve not seen before,
although I don’t know if it’s actually novel. It’s a fairly general
method for manipulating SAT problems in CNF form to perform arbitrary
set options on their solution set, without adding additional variables
to the problem.&lt;label class="margin-toggle sidenote-number" for="fn1"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn1" type="checkbox"/&gt;&lt;span class="sidenote"&gt;It’s somewhere between well-known and obvious that you
can do it with adding additional variables, and I make use of that for
doing this.&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;(Disclaimer: The idea definitely works, and I’ve run the code I’m
posting and it seems to work, but it’s undertested and may be buggy)&lt;/p&gt;


&lt;p&gt;Here’s some code for calculating the set difference of two SAT
problems expressed in CNF:&lt;/p&gt;


&lt;div class="sourceCode" id="cb1"&gt;&lt;pre class="sourceCode python"&gt;&lt;code class="sourceCode python"&gt;&lt;span id="cb1-1"&gt;&lt;a aria-hidden="true" href="#cb1-1" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="im"&gt;from&lt;/span&gt; pysat.solvers &lt;span class="im"&gt;import&lt;/span&gt; Glucose4&lt;/span&gt;
&lt;span id="cb1-2"&gt;&lt;a aria-hidden="true" href="#cb1-2" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="im"&gt;from&lt;/span&gt; .cnfbuilder &lt;span class="im"&gt;import&lt;/span&gt; CNFBuilder&lt;/span&gt;
&lt;span id="cb1-3"&gt;&lt;a aria-hidden="true" href="#cb1-3" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-4"&gt;&lt;a aria-hidden="true" href="#cb1-4" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-5"&gt;&lt;a aria-hidden="true" href="#cb1-5" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="kw"&gt;def&lt;/span&gt; setminus(A: &lt;span class="bu"&gt;list&lt;/span&gt;[&lt;span class="bu"&gt;list&lt;/span&gt;[&lt;span class="bu"&gt;int&lt;/span&gt;]], B: &lt;span class="bu"&gt;list&lt;/span&gt;[&lt;span class="bu"&gt;list&lt;/span&gt;[&lt;span class="bu"&gt;int&lt;/span&gt;]]) &lt;span class="op"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="bu"&gt;list&lt;/span&gt;[&lt;span class="bu"&gt;list&lt;/span&gt;[&lt;span class="bu"&gt;int&lt;/span&gt;]]:&lt;/span&gt;
&lt;span id="cb1-6"&gt;&lt;a aria-hidden="true" href="#cb1-6" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;"""Returns a set of SAT clauses such that the satisfying&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-7"&gt;&lt;a aria-hidden="true" href="#cb1-7" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="co"&gt;    solutions are precisely the satisfying solutions of A that&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-8"&gt;&lt;a aria-hidden="true" href="#cb1-8" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="co"&gt;    do not satisfy B.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-9"&gt;&lt;a aria-hidden="true" href="#cb1-9" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-10"&gt;&lt;a aria-hidden="true" href="#cb1-10" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="co"&gt;    A, B are SAT formulae represented in CNF in the usual way&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-11"&gt;&lt;a aria-hidden="true" href="#cb1-11" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="co"&gt;    (positive literals correspond to a variable, negative literals&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-12"&gt;&lt;a aria-hidden="true" href="#cb1-12" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="co"&gt;    to the negation fo that variable). The returned formula is in&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-13"&gt;&lt;a aria-hidden="true" href="#cb1-13" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="co"&gt;    the same format.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-14"&gt;&lt;a aria-hidden="true" href="#cb1-14" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="co"&gt;    """&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-15"&gt;&lt;a aria-hidden="true" href="#cb1-15" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-16"&gt;&lt;a aria-hidden="true" href="#cb1-16" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# Set of clauses that we incrementally expand until their&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-17"&gt;&lt;a aria-hidden="true" href="#cb1-17" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# satisfying solutions are solutions(A) - solutions(B).&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-18"&gt;&lt;a aria-hidden="true" href="#cb1-18" tabindex="-1"&gt;&lt;/a&gt;    result_clauses &lt;span class="op"&gt;=&lt;/span&gt; &lt;span class="bu"&gt;list&lt;/span&gt;(A)&lt;/span&gt;
&lt;span id="cb1-19"&gt;&lt;a aria-hidden="true" href="#cb1-19" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-20"&gt;&lt;a aria-hidden="true" href="#cb1-20" tabindex="-1"&gt;&lt;/a&gt;    B &lt;span class="op"&gt;=&lt;/span&gt; &lt;span class="bu"&gt;list&lt;/span&gt;(B)&lt;/span&gt;
&lt;span id="cb1-21"&gt;&lt;a aria-hidden="true" href="#cb1-21" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-22"&gt;&lt;a aria-hidden="true" href="#cb1-22" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# We are only interested in clauses in B that are not also in A,&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-23"&gt;&lt;a aria-hidden="true" href="#cb1-23" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# as every clause that is in A is always satisfied by an element&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-24"&gt;&lt;a aria-hidden="true" href="#cb1-24" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# of our result.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-25"&gt;&lt;a aria-hidden="true" href="#cb1-25" tabindex="-1"&gt;&lt;/a&gt;    target_clauses &lt;span class="op"&gt;=&lt;/span&gt; {&lt;span class="bu"&gt;tuple&lt;/span&gt;(&lt;span class="bu"&gt;sorted&lt;/span&gt;(c)) &lt;span class="cf"&gt;for&lt;/span&gt; c &lt;span class="kw"&gt;in&lt;/span&gt; B} &lt;span class="op"&gt;-&lt;/span&gt; {&lt;span class="bu"&gt;tuple&lt;/span&gt;(&lt;span class="bu"&gt;sorted&lt;/span&gt;(c)) &lt;span class="cf"&gt;for&lt;/span&gt; c &lt;span class="kw"&gt;in&lt;/span&gt; A}&lt;/span&gt;
&lt;span id="cb1-26"&gt;&lt;a aria-hidden="true" href="#cb1-26" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-27"&gt;&lt;a aria-hidden="true" href="#cb1-27" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# Every element of A satisfies B, so the set is empty.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-28"&gt;&lt;a aria-hidden="true" href="#cb1-28" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="cf"&gt;if&lt;/span&gt; &lt;span class="kw"&gt;not&lt;/span&gt; target_clauses:&lt;/span&gt;
&lt;span id="cb1-29"&gt;&lt;a aria-hidden="true" href="#cb1-29" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;return&lt;/span&gt; [[&lt;span class="dv"&gt;1&lt;/span&gt;], [&lt;span class="op"&gt;-&lt;/span&gt;&lt;span class="dv"&gt;1&lt;/span&gt;]]&lt;/span&gt;
&lt;span id="cb1-30"&gt;&lt;a aria-hidden="true" href="#cb1-30" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-31"&gt;&lt;a aria-hidden="true" href="#cb1-31" tabindex="-1"&gt;&lt;/a&gt;    builder &lt;span class="op"&gt;=&lt;/span&gt; CNFBuilder(A)&lt;/span&gt;
&lt;span id="cb1-32"&gt;&lt;a aria-hidden="true" href="#cb1-32" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-33"&gt;&lt;a aria-hidden="true" href="#cb1-33" tabindex="-1"&gt;&lt;/a&gt;    b_is_satisfied &lt;span class="op"&gt;=&lt;/span&gt; builder.&lt;span class="bu"&gt;all&lt;/span&gt;([builder.&lt;span class="bu"&gt;any&lt;/span&gt;(c) &lt;span class="cf"&gt;for&lt;/span&gt; c &lt;span class="kw"&gt;in&lt;/span&gt; target_clauses])&lt;/span&gt;
&lt;span id="cb1-34"&gt;&lt;a aria-hidden="true" href="#cb1-34" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-35"&gt;&lt;a aria-hidden="true" href="#cb1-35" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# This is a set of clauses for the intersection of our current&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-36"&gt;&lt;a aria-hidden="true" href="#cb1-36" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# best answer with B. If these are satisfiable we're not done yet.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-37"&gt;&lt;a aria-hidden="true" href="#cb1-37" tabindex="-1"&gt;&lt;/a&gt;    intersection_clauses &lt;span class="op"&gt;=&lt;/span&gt; &lt;span class="bu"&gt;list&lt;/span&gt;(A) &lt;span class="op"&gt;+&lt;/span&gt; &lt;span class="bu"&gt;list&lt;/span&gt;(B)&lt;/span&gt;
&lt;span id="cb1-38"&gt;&lt;a aria-hidden="true" href="#cb1-38" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-39"&gt;&lt;a aria-hidden="true" href="#cb1-39" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# This is a set of clauses with new variables introduced&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-40"&gt;&lt;a aria-hidden="true" href="#cb1-40" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# such that an assignment is valid iff it can be extended&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-41"&gt;&lt;a aria-hidden="true" href="#cb1-41" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# to a valid assignment of these clauses.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-42"&gt;&lt;a aria-hidden="true" href="#cb1-42" tabindex="-1"&gt;&lt;/a&gt;    general_clauses &lt;span class="op"&gt;=&lt;/span&gt; builder.clauses &lt;span class="op"&gt;+&lt;/span&gt; [[&lt;span class="op"&gt;-&lt;/span&gt;b_is_satisfied]]&lt;/span&gt;
&lt;span id="cb1-43"&gt;&lt;a aria-hidden="true" href="#cb1-43" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-44"&gt;&lt;a aria-hidden="true" href="#cb1-44" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="cf"&gt;while&lt;/span&gt; &lt;span class="va"&gt;True&lt;/span&gt;:&lt;/span&gt;
&lt;span id="cb1-45"&gt;&lt;a aria-hidden="true" href="#cb1-45" tabindex="-1"&gt;&lt;/a&gt;        solver &lt;span class="op"&gt;=&lt;/span&gt; Glucose4(intersection_clauses)&lt;/span&gt;
&lt;span id="cb1-46"&gt;&lt;a aria-hidden="true" href="#cb1-46" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;if&lt;/span&gt; &lt;span class="kw"&gt;not&lt;/span&gt; solver.solve():&lt;/span&gt;
&lt;span id="cb1-47"&gt;&lt;a aria-hidden="true" href="#cb1-47" tabindex="-1"&gt;&lt;/a&gt;            &lt;span class="cf"&gt;return&lt;/span&gt; result_clauses&lt;/span&gt;
&lt;span id="cb1-48"&gt;&lt;a aria-hidden="true" href="#cb1-48" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-49"&gt;&lt;a aria-hidden="true" href="#cb1-49" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# This is a solution to our result_clauses that is also in&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-50"&gt;&lt;a aria-hidden="true" href="#cb1-50" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# B, and so indicates that we're not done.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-51"&gt;&lt;a aria-hidden="true" href="#cb1-51" tabindex="-1"&gt;&lt;/a&gt;        counter_example &lt;span class="op"&gt;=&lt;/span&gt; solver.get_model()&lt;/span&gt;
&lt;span id="cb1-52"&gt;&lt;a aria-hidden="true" href="#cb1-52" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-53"&gt;&lt;a aria-hidden="true" href="#cb1-53" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# We now feed it in to the general clauses. This cannot be&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-54"&gt;&lt;a aria-hidden="true" href="#cb1-54" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# extended to a satisfying solution, because a solution is&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-55"&gt;&lt;a aria-hidden="true" href="#cb1-55" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# satisfying for general_clauses if and only if it corresponds&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-56"&gt;&lt;a aria-hidden="true" href="#cb1-56" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# to the unique extension of some satisfaction of A setminus B.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-57"&gt;&lt;a aria-hidden="true" href="#cb1-57" tabindex="-1"&gt;&lt;/a&gt;        clause_generator &lt;span class="op"&gt;=&lt;/span&gt; Glucose4(general_clauses)&lt;/span&gt;
&lt;span id="cb1-58"&gt;&lt;a aria-hidden="true" href="#cb1-58" tabindex="-1"&gt;&lt;/a&gt;        solved &lt;span class="op"&gt;=&lt;/span&gt; clause_generator.solve(assumptions&lt;span class="op"&gt;=&lt;/span&gt;counter_example)&lt;/span&gt;
&lt;span id="cb1-59"&gt;&lt;a aria-hidden="true" href="#cb1-59" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;assert&lt;/span&gt; &lt;span class="kw"&gt;not&lt;/span&gt; solved&lt;/span&gt;
&lt;span id="cb1-60"&gt;&lt;a aria-hidden="true" href="#cb1-60" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb1-61"&gt;&lt;a aria-hidden="true" href="#cb1-61" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# This gives us a minimal clause that any solution to A setminus B must&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-62"&gt;&lt;a aria-hidden="true" href="#cb1-62" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# satisfy k&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-63"&gt;&lt;a aria-hidden="true" href="#cb1-63" tabindex="-1"&gt;&lt;/a&gt;        core &lt;span class="op"&gt;=&lt;/span&gt; clause_generator.get_core()&lt;/span&gt;
&lt;span id="cb1-64"&gt;&lt;a aria-hidden="true" href="#cb1-64" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;assert&lt;/span&gt; core &lt;span class="kw"&gt;is&lt;/span&gt; &lt;span class="kw"&gt;not&lt;/span&gt; &lt;span class="va"&gt;None&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb1-65"&gt;&lt;a aria-hidden="true" href="#cb1-65" tabindex="-1"&gt;&lt;/a&gt;        new_clause &lt;span class="op"&gt;=&lt;/span&gt; [&lt;span class="op"&gt;-&lt;/span&gt;v &lt;span class="cf"&gt;for&lt;/span&gt; v &lt;span class="kw"&gt;in&lt;/span&gt; core]&lt;/span&gt;
&lt;span id="cb1-66"&gt;&lt;a aria-hidden="true" href="#cb1-66" tabindex="-1"&gt;&lt;/a&gt;        general_clauses.append(new_clause)&lt;/span&gt;
&lt;span id="cb1-67"&gt;&lt;a aria-hidden="true" href="#cb1-67" tabindex="-1"&gt;&lt;/a&gt;        intersection_clauses.append(new_clause)&lt;/span&gt;
&lt;span id="cb1-68"&gt;&lt;a aria-hidden="true" href="#cb1-68" tabindex="-1"&gt;&lt;/a&gt;        result_clauses.append(new_clause)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Where CNFBuilder is the following fairly straightforward class for
building up a set of clauses:&lt;/p&gt;


&lt;div class="sourceCode" id="cb2"&gt;&lt;pre class="sourceCode python"&gt;&lt;code class="sourceCode python"&gt;&lt;span id="cb2-1"&gt;&lt;a aria-hidden="true" href="#cb2-1" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="kw"&gt;class&lt;/span&gt; CNFBuilder:&lt;/span&gt;
&lt;span id="cb2-2"&gt;&lt;a aria-hidden="true" href="#cb2-2" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="kw"&gt;def&lt;/span&gt; &lt;span class="fu"&gt;__init__&lt;/span&gt;(&lt;span class="va"&gt;self&lt;/span&gt;, clauses):&lt;/span&gt;
&lt;span id="cb2-3"&gt;&lt;a aria-hidden="true" href="#cb2-3" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="va"&gt;self&lt;/span&gt;.clauses &lt;span class="op"&gt;=&lt;/span&gt; &lt;span class="bu"&gt;list&lt;/span&gt;(clauses)&lt;/span&gt;
&lt;span id="cb2-4"&gt;&lt;a aria-hidden="true" href="#cb2-4" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="va"&gt;self&lt;/span&gt;.__nextvar &lt;span class="op"&gt;=&lt;/span&gt; (&lt;/span&gt;
&lt;span id="cb2-5"&gt;&lt;a aria-hidden="true" href="#cb2-5" tabindex="-1"&gt;&lt;/a&gt;            &lt;span class="bu"&gt;max&lt;/span&gt;(&lt;span class="bu"&gt;abs&lt;/span&gt;(literal) &lt;span class="cf"&gt;for&lt;/span&gt; clause &lt;span class="kw"&gt;in&lt;/span&gt; clauses &lt;span class="cf"&gt;for&lt;/span&gt; literal &lt;span class="kw"&gt;in&lt;/span&gt; clause) &lt;span class="op"&gt;+&lt;/span&gt; &lt;span class="dv"&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb2-6"&gt;&lt;a aria-hidden="true" href="#cb2-6" tabindex="-1"&gt;&lt;/a&gt;        )&lt;/span&gt;
&lt;span id="cb2-7"&gt;&lt;a aria-hidden="true" href="#cb2-7" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb2-8"&gt;&lt;a aria-hidden="true" href="#cb2-8" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="kw"&gt;def&lt;/span&gt; &lt;span class="bu"&gt;any&lt;/span&gt;(&lt;span class="va"&gt;self&lt;/span&gt;, variables) &lt;span class="op"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="bu"&gt;int&lt;/span&gt;:&lt;/span&gt;
&lt;span id="cb2-9"&gt;&lt;a aria-hidden="true" href="#cb2-9" tabindex="-1"&gt;&lt;/a&gt;        result &lt;span class="op"&gt;=&lt;/span&gt; &lt;span class="va"&gt;self&lt;/span&gt;.__newvar()&lt;/span&gt;
&lt;span id="cb2-10"&gt;&lt;a aria-hidden="true" href="#cb2-10" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# Any variable being true implies the result variable is true.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb2-11"&gt;&lt;a aria-hidden="true" href="#cb2-11" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;for&lt;/span&gt; v &lt;span class="kw"&gt;in&lt;/span&gt; variables:&lt;/span&gt;
&lt;span id="cb2-12"&gt;&lt;a aria-hidden="true" href="#cb2-12" tabindex="-1"&gt;&lt;/a&gt;            &lt;span class="va"&gt;self&lt;/span&gt;.__implies(v, result)&lt;/span&gt;
&lt;span id="cb2-13"&gt;&lt;a aria-hidden="true" href="#cb2-13" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb2-14"&gt;&lt;a aria-hidden="true" href="#cb2-14" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# If none of the variables are true, then any(variables) is false.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb2-15"&gt;&lt;a aria-hidden="true" href="#cb2-15" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="va"&gt;self&lt;/span&gt;.clauses.append([&lt;span class="op"&gt;-&lt;/span&gt;result] &lt;span class="op"&gt;+&lt;/span&gt; [v &lt;span class="cf"&gt;for&lt;/span&gt; v &lt;span class="kw"&gt;in&lt;/span&gt; variables])&lt;/span&gt;
&lt;span id="cb2-16"&gt;&lt;a aria-hidden="true" href="#cb2-16" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;return&lt;/span&gt; result&lt;/span&gt;
&lt;span id="cb2-17"&gt;&lt;a aria-hidden="true" href="#cb2-17" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb2-18"&gt;&lt;a aria-hidden="true" href="#cb2-18" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="kw"&gt;def&lt;/span&gt; &lt;span class="bu"&gt;all&lt;/span&gt;(&lt;span class="va"&gt;self&lt;/span&gt;, variables) &lt;span class="op"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="bu"&gt;int&lt;/span&gt;:&lt;/span&gt;
&lt;span id="cb2-19"&gt;&lt;a aria-hidden="true" href="#cb2-19" tabindex="-1"&gt;&lt;/a&gt;        result &lt;span class="op"&gt;=&lt;/span&gt; &lt;span class="va"&gt;self&lt;/span&gt;.__newvar()&lt;/span&gt;
&lt;span id="cb2-20"&gt;&lt;a aria-hidden="true" href="#cb2-20" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;for&lt;/span&gt; v &lt;span class="kw"&gt;in&lt;/span&gt; variables:&lt;/span&gt;
&lt;span id="cb2-21"&gt;&lt;a aria-hidden="true" href="#cb2-21" tabindex="-1"&gt;&lt;/a&gt;            &lt;span class="va"&gt;self&lt;/span&gt;.__implies(result, v)&lt;/span&gt;
&lt;span id="cb2-22"&gt;&lt;a aria-hidden="true" href="#cb2-22" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb2-23"&gt;&lt;a aria-hidden="true" href="#cb2-23" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# If all of the variables are true, then all(variables) is true.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb2-24"&gt;&lt;a aria-hidden="true" href="#cb2-24" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="va"&gt;self&lt;/span&gt;.clauses.append([result] &lt;span class="op"&gt;+&lt;/span&gt; [&lt;span class="op"&gt;-&lt;/span&gt;v &lt;span class="cf"&gt;for&lt;/span&gt; v &lt;span class="kw"&gt;in&lt;/span&gt; variables])&lt;/span&gt;
&lt;span id="cb2-25"&gt;&lt;a aria-hidden="true" href="#cb2-25" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;return&lt;/span&gt; result&lt;/span&gt;
&lt;span id="cb2-26"&gt;&lt;a aria-hidden="true" href="#cb2-26" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb2-27"&gt;&lt;a aria-hidden="true" href="#cb2-27" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="kw"&gt;def&lt;/span&gt; __implies(&lt;span class="va"&gt;self&lt;/span&gt;, l, r):&lt;/span&gt;
&lt;span id="cb2-28"&gt;&lt;a aria-hidden="true" href="#cb2-28" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="va"&gt;self&lt;/span&gt;.clauses.append([&lt;span class="op"&gt;-&lt;/span&gt;l, r])&lt;/span&gt;
&lt;span id="cb2-29"&gt;&lt;a aria-hidden="true" href="#cb2-29" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb2-30"&gt;&lt;a aria-hidden="true" href="#cb2-30" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="kw"&gt;def&lt;/span&gt; __newvar(&lt;span class="va"&gt;self&lt;/span&gt;):&lt;/span&gt;
&lt;span id="cb2-31"&gt;&lt;a aria-hidden="true" href="#cb2-31" tabindex="-1"&gt;&lt;/a&gt;        result &lt;span class="op"&gt;=&lt;/span&gt; &lt;span class="va"&gt;self&lt;/span&gt;.__nextvar&lt;/span&gt;
&lt;span id="cb2-32"&gt;&lt;a aria-hidden="true" href="#cb2-32" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="va"&gt;self&lt;/span&gt;.__nextvar &lt;span class="op"&gt;+=&lt;/span&gt; &lt;span class="dv"&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb2-33"&gt;&lt;a aria-hidden="true" href="#cb2-33" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;return&lt;/span&gt; result&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Let’s unpack this:&lt;/p&gt;


&lt;p&gt;We’ve got sets of clauses A, B, and we want to calculate a set of
clauses that represents the set of solutions solutions(A) -
solutions(B). We do this by starting from A, and iteratively refining it
to exclude solutions we don’t want.&lt;/p&gt;


&lt;p&gt;This works by building up a set of clauses C as follows:&lt;/p&gt;


&lt;ol type="1"&gt;
&lt;li&gt;Initially, C = A. We maintain throughout that
&lt;code&gt;solutions(A) - solutions(B) subset solutions(C) subset solutions(A)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;We check if there are any solutions to C that are also solutions to
B. If there are not, we’re done and
&lt;code&gt;solutions(C) = solutions(A) - solutions(B)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;If not, we find a subset of the resulting assignment such that no
extension of that partial assignment can be in
&lt;code&gt;solutions(A) - solutions(B)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;We add a negation of that subset to C as a new clause, and
repeat.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Part (2) is easy: If you concatenate two sets of clauses, you’ll get
a set of clauses whose solutions are precisely the intersection of the
two solutions.
i.e. &lt;code&gt;solutions(C + B) = solutions(C) &amp;amp; solutions(B)&lt;/code&gt;. So
any solution to &lt;code&gt;solutions(C) + solutions(B)&lt;/code&gt; gives us the
desired example.&lt;/p&gt;


&lt;p&gt;Part (3) is solved through two observations: Firstly, we can easily
construct a larger SAT problem with more variables such that
&lt;code&gt;x in solutions(A) - solutions(B)&lt;/code&gt; iff &lt;code&gt;x&lt;/code&gt; extends
to a solution of the larger problem. We do this by introducing variables
that correspond to B being satisfied (first we introduce a variable for
each clause in B that is not in A, and then we introduce a variable
corresponding to their intersection). We can then feed in our solution
to an incremental SAT solver, get a minimal subset of it that cannot be
extended to a solution (and thus is not present in any member of
&lt;code&gt;solutions(A) - solutions(B)&lt;/code&gt;, and add this as a clause
ruling out our counterexample and anything like it, without ruling out
any solutions we want to include.&lt;/p&gt;


&lt;p&gt;This is a fairly general solution that can be used to perform
arbitrary boolean operations on SAT problems, because the components you
need are:&lt;/p&gt;


&lt;ol type="1"&gt;
&lt;li&gt;Some set of clauses representing a superset of your desired target
set.&lt;/li&gt;
&lt;li&gt;An oracle that will provide you with an example satisfying your set
of clauses that is not in the desired target set (or say that none
exists).&lt;/li&gt;
&lt;li&gt;An oracle that will take that example and turn it into clause that
every element of your desired target set satisfies.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;You then just iteratively add clauses to your initial set of clauses
until you are done.&lt;/p&gt;


&lt;p&gt;You can always use the empty set of clauses for (1),&lt;label class="margin-toggle sidenote-number" for="fn2"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn2" type="checkbox"/&gt;&lt;span class="sidenote"&gt;This isn’t great though, because the runtime of this is
that it takes two calls to a SAT solver per clause added, so where
possible you want to start with a set of clauses that closely
approximates your target.&lt;/span&gt; and
in the absence of a more convenient choice of oracle for (2) you can
always construct it in the same way that the oracle for (3) is
constructed, by adding new variables.&lt;/p&gt;


&lt;p&gt;Another neat thing you can do with essentially the same idea&lt;label class="margin-toggle sidenote-number" for="fn3"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn3" type="checkbox"/&gt;&lt;span class="sidenote"&gt;And, in fact, where I first figured this out.&lt;/span&gt; is you can take a SAT problem and
remove a variable from it&lt;label class="margin-toggle sidenote-number" for="fn4"&gt;&lt;/label&gt;&lt;input class="margin-toggle" id="fn4" type="checkbox"/&gt;&lt;span class="sidenote"&gt;You can use this to refine to arbitrary subsets of the
variables by removing one variable at a time, but I’ve not found a
better way to do it than that - the natural ways of representing it all
introduce exponentially many new variables in the number of variables
you want to remove.&lt;/span&gt;, creating the set of clauses that
have a satisfying solution if and only if there is some assignment of
the removed variable that satisfies them. Here’s some code that does
that:&lt;/p&gt;


&lt;div class="sourceCode" id="cb3"&gt;&lt;pre class="sourceCode python"&gt;&lt;code class="sourceCode python"&gt;&lt;span id="cb3-1"&gt;&lt;a aria-hidden="true" href="#cb3-1" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="kw"&gt;def&lt;/span&gt; remove_one_variable(clauses, variable):&lt;/span&gt;
&lt;span id="cb3-2"&gt;&lt;a aria-hidden="true" href="#cb3-2" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;"""Return a set of SAT clauses not containing `variable` that accepts only&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-3"&gt;&lt;a aria-hidden="true" href="#cb3-3" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="co"&gt;    assignments that can be turned into satisfying assignments of `clauses` through&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-4"&gt;&lt;a aria-hidden="true" href="#cb3-4" tabindex="-1"&gt;&lt;/a&gt;&lt;span class="co"&gt;    a suitable choice of assignment for `variable`."""&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-5"&gt;&lt;a aria-hidden="true" href="#cb3-5" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="cf"&gt;assert&lt;/span&gt; variable &lt;span class="op"&gt;&amp;gt;&lt;/span&gt; &lt;span class="dv"&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-6"&gt;&lt;a aria-hidden="true" href="#cb3-6" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb3-7"&gt;&lt;a aria-hidden="true" href="#cb3-7" tabindex="-1"&gt;&lt;/a&gt;    solver &lt;span class="op"&gt;=&lt;/span&gt; Glucose4(clauses)&lt;/span&gt;
&lt;span id="cb3-8"&gt;&lt;a aria-hidden="true" href="#cb3-8" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb3-9"&gt;&lt;a aria-hidden="true" href="#cb3-9" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# Current set of clauses representing our result set. Initially starts&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-10"&gt;&lt;a aria-hidden="true" href="#cb3-10" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# out as all clauses that do not reference the variable to remove.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-11"&gt;&lt;a aria-hidden="true" href="#cb3-11" tabindex="-1"&gt;&lt;/a&gt;    refined_clauses: &lt;span class="bu"&gt;list&lt;/span&gt;[Clause] &lt;span class="op"&gt;=&lt;/span&gt; []&lt;/span&gt;
&lt;span id="cb3-12"&gt;&lt;a aria-hidden="true" href="#cb3-12" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb3-13"&gt;&lt;a aria-hidden="true" href="#cb3-13" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# All clauses in the original where the variable appears positively.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-14"&gt;&lt;a aria-hidden="true" href="#cb3-14" tabindex="-1"&gt;&lt;/a&gt;    positive_clauses &lt;span class="op"&gt;=&lt;/span&gt; []&lt;/span&gt;
&lt;span id="cb3-15"&gt;&lt;a aria-hidden="true" href="#cb3-15" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb3-16"&gt;&lt;a aria-hidden="true" href="#cb3-16" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# All clauses in the original where the variable appears negatively.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-17"&gt;&lt;a aria-hidden="true" href="#cb3-17" tabindex="-1"&gt;&lt;/a&gt;    negative_clauses &lt;span class="op"&gt;=&lt;/span&gt; []&lt;/span&gt;
&lt;span id="cb3-18"&gt;&lt;a aria-hidden="true" href="#cb3-18" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb3-19"&gt;&lt;a aria-hidden="true" href="#cb3-19" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="cf"&gt;for&lt;/span&gt; clause &lt;span class="kw"&gt;in&lt;/span&gt; clauses:&lt;/span&gt;
&lt;span id="cb3-20"&gt;&lt;a aria-hidden="true" href="#cb3-20" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;if&lt;/span&gt; variable &lt;span class="kw"&gt;in&lt;/span&gt; clause:&lt;/span&gt;
&lt;span id="cb3-21"&gt;&lt;a aria-hidden="true" href="#cb3-21" tabindex="-1"&gt;&lt;/a&gt;            clause &lt;span class="op"&gt;=&lt;/span&gt; &lt;span class="bu"&gt;sorted&lt;/span&gt;(&lt;span class="bu"&gt;set&lt;/span&gt;(clause) &lt;span class="op"&gt;-&lt;/span&gt; {variable})&lt;/span&gt;
&lt;span id="cb3-22"&gt;&lt;a aria-hidden="true" href="#cb3-22" tabindex="-1"&gt;&lt;/a&gt;            positive_clauses.append(clause)&lt;/span&gt;
&lt;span id="cb3-23"&gt;&lt;a aria-hidden="true" href="#cb3-23" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;elif&lt;/span&gt; &lt;span class="op"&gt;-&lt;/span&gt;variable &lt;span class="kw"&gt;in&lt;/span&gt; clause:&lt;/span&gt;
&lt;span id="cb3-24"&gt;&lt;a aria-hidden="true" href="#cb3-24" tabindex="-1"&gt;&lt;/a&gt;            clause &lt;span class="op"&gt;=&lt;/span&gt; &lt;span class="bu"&gt;sorted&lt;/span&gt;(&lt;span class="bu"&gt;set&lt;/span&gt;(clause) &lt;span class="op"&gt;-&lt;/span&gt; {&lt;span class="op"&gt;-&lt;/span&gt;variable})&lt;/span&gt;
&lt;span id="cb3-25"&gt;&lt;a aria-hidden="true" href="#cb3-25" tabindex="-1"&gt;&lt;/a&gt;            negative_clauses.append(clause)&lt;/span&gt;
&lt;span id="cb3-26"&gt;&lt;a aria-hidden="true" href="#cb3-26" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;else&lt;/span&gt;:&lt;/span&gt;
&lt;span id="cb3-27"&gt;&lt;a aria-hidden="true" href="#cb3-27" tabindex="-1"&gt;&lt;/a&gt;            refined_clauses.append(clause)&lt;/span&gt;
&lt;span id="cb3-28"&gt;&lt;a aria-hidden="true" href="#cb3-28" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb3-29"&gt;&lt;a aria-hidden="true" href="#cb3-29" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="cf"&gt;assert&lt;/span&gt; positive_clauses &lt;span class="kw"&gt;or&lt;/span&gt; negative_clauses&lt;/span&gt;
&lt;span id="cb3-30"&gt;&lt;a aria-hidden="true" href="#cb3-30" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb3-31"&gt;&lt;a aria-hidden="true" href="#cb3-31" tabindex="-1"&gt;&lt;/a&gt;    builder &lt;span class="op"&gt;=&lt;/span&gt; CNFBuilder(refined_clauses)&lt;/span&gt;
&lt;span id="cb3-32"&gt;&lt;a aria-hidden="true" href="#cb3-32" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb3-33"&gt;&lt;a aria-hidden="true" href="#cb3-33" tabindex="-1"&gt;&lt;/a&gt;    positive_satisfied &lt;span class="op"&gt;=&lt;/span&gt; builder.&lt;span class="bu"&gt;all&lt;/span&gt;(&lt;/span&gt;
&lt;span id="cb3-34"&gt;&lt;a aria-hidden="true" href="#cb3-34" tabindex="-1"&gt;&lt;/a&gt;        [builder.&lt;span class="bu"&gt;any&lt;/span&gt;(clause) &lt;span class="cf"&gt;for&lt;/span&gt; clause &lt;span class="kw"&gt;in&lt;/span&gt; positive_clauses]&lt;/span&gt;
&lt;span id="cb3-35"&gt;&lt;a aria-hidden="true" href="#cb3-35" tabindex="-1"&gt;&lt;/a&gt;    )&lt;/span&gt;
&lt;span id="cb3-36"&gt;&lt;a aria-hidden="true" href="#cb3-36" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb3-37"&gt;&lt;a aria-hidden="true" href="#cb3-37" tabindex="-1"&gt;&lt;/a&gt;    negative_satisfied &lt;span class="op"&gt;=&lt;/span&gt; builder.&lt;span class="bu"&gt;all&lt;/span&gt;(&lt;/span&gt;
&lt;span id="cb3-38"&gt;&lt;a aria-hidden="true" href="#cb3-38" tabindex="-1"&gt;&lt;/a&gt;        [builder.&lt;span class="bu"&gt;any&lt;/span&gt;(clause) &lt;span class="cf"&gt;for&lt;/span&gt; clause &lt;span class="kw"&gt;in&lt;/span&gt; negative_clauses]&lt;/span&gt;
&lt;span id="cb3-39"&gt;&lt;a aria-hidden="true" href="#cb3-39" tabindex="-1"&gt;&lt;/a&gt;    )&lt;/span&gt;
&lt;span id="cb3-40"&gt;&lt;a aria-hidden="true" href="#cb3-40" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb3-41"&gt;&lt;a aria-hidden="true" href="#cb3-41" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# These clauses are satisfied if and only if all of our&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-42"&gt;&lt;a aria-hidden="true" href="#cb3-42" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# current result clauses are satisfied but there is no possible&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-43"&gt;&lt;a aria-hidden="true" href="#cb3-43" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# assignment of the removed variable that makes the original set&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-44"&gt;&lt;a aria-hidden="true" href="#cb3-44" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="co"&gt;# of clauses satisfied.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-45"&gt;&lt;a aria-hidden="true" href="#cb3-45" tabindex="-1"&gt;&lt;/a&gt;    oracle_clauses &lt;span class="op"&gt;=&lt;/span&gt; builder.clauses&lt;/span&gt;
&lt;span id="cb3-46"&gt;&lt;a aria-hidden="true" href="#cb3-46" tabindex="-1"&gt;&lt;/a&gt;    oracle_clauses.append([&lt;span class="op"&gt;-&lt;/span&gt;positive_satisfied])&lt;/span&gt;
&lt;span id="cb3-47"&gt;&lt;a aria-hidden="true" href="#cb3-47" tabindex="-1"&gt;&lt;/a&gt;    oracle_clauses.append([&lt;span class="op"&gt;-&lt;/span&gt;negative_satisfied])&lt;/span&gt;
&lt;span id="cb3-48"&gt;&lt;a aria-hidden="true" href="#cb3-48" tabindex="-1"&gt;&lt;/a&gt;    oracle &lt;span class="op"&gt;=&lt;/span&gt; Glucose4(oracle_clauses)&lt;/span&gt;
&lt;span id="cb3-49"&gt;&lt;a aria-hidden="true" href="#cb3-49" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb3-50"&gt;&lt;a aria-hidden="true" href="#cb3-50" tabindex="-1"&gt;&lt;/a&gt;    &lt;span class="cf"&gt;while&lt;/span&gt; &lt;span class="va"&gt;True&lt;/span&gt;:&lt;/span&gt;
&lt;span id="cb3-51"&gt;&lt;a aria-hidden="true" href="#cb3-51" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# Every solution of our refined_clauses has a satisfying extension,&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-52"&gt;&lt;a aria-hidden="true" href="#cb3-52" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# so we're done.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-53"&gt;&lt;a aria-hidden="true" href="#cb3-53" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;if&lt;/span&gt; &lt;span class="kw"&gt;not&lt;/span&gt; oracle.solve():&lt;/span&gt;
&lt;span id="cb3-54"&gt;&lt;a aria-hidden="true" href="#cb3-54" tabindex="-1"&gt;&lt;/a&gt;            &lt;span class="cf"&gt;return&lt;/span&gt; refined_clauses&lt;/span&gt;
&lt;span id="cb3-55"&gt;&lt;a aria-hidden="true" href="#cb3-55" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb3-56"&gt;&lt;a aria-hidden="true" href="#cb3-56" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# We've got some solution to the refined clauses that cannot be extended.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-57"&gt;&lt;a aria-hidden="true" href="#cb3-57" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# Turn it into a set of assumptions that cannot be satisfied in the original&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-58"&gt;&lt;a aria-hidden="true" href="#cb3-58" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# SAT problem.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-59"&gt;&lt;a aria-hidden="true" href="#cb3-59" tabindex="-1"&gt;&lt;/a&gt;        counterexample &lt;span class="op"&gt;=&lt;/span&gt; oracle.get_model()&lt;/span&gt;
&lt;span id="cb3-60"&gt;&lt;a aria-hidden="true" href="#cb3-60" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;assert&lt;/span&gt; counterexample &lt;span class="kw"&gt;is&lt;/span&gt; &lt;span class="kw"&gt;not&lt;/span&gt; &lt;span class="va"&gt;None&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-61"&gt;&lt;a aria-hidden="true" href="#cb3-61" tabindex="-1"&gt;&lt;/a&gt;        assumptions &lt;span class="op"&gt;=&lt;/span&gt; [&lt;/span&gt;
&lt;span id="cb3-62"&gt;&lt;a aria-hidden="true" href="#cb3-62" tabindex="-1"&gt;&lt;/a&gt;            literal &lt;span class="cf"&gt;for&lt;/span&gt; literal &lt;span class="kw"&gt;in&lt;/span&gt; counterexample &lt;span class="cf"&gt;if&lt;/span&gt; &lt;span class="bu"&gt;abs&lt;/span&gt;(literal) &lt;span class="op"&gt;!=&lt;/span&gt; variable&lt;/span&gt;
&lt;span id="cb3-63"&gt;&lt;a aria-hidden="true" href="#cb3-63" tabindex="-1"&gt;&lt;/a&gt;        ]&lt;/span&gt;
&lt;span id="cb3-64"&gt;&lt;a aria-hidden="true" href="#cb3-64" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb3-65"&gt;&lt;a aria-hidden="true" href="#cb3-65" tabindex="-1"&gt;&lt;/a&gt;        solved_assumptions &lt;span class="op"&gt;=&lt;/span&gt; solver.solve(assumptions&lt;span class="op"&gt;=&lt;/span&gt;assumptions)&lt;/span&gt;
&lt;span id="cb3-66"&gt;&lt;a aria-hidden="true" href="#cb3-66" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;assert&lt;/span&gt; &lt;span class="kw"&gt;not&lt;/span&gt; solved_assumptions&lt;/span&gt;
&lt;span id="cb3-67"&gt;&lt;a aria-hidden="true" href="#cb3-67" tabindex="-1"&gt;&lt;/a&gt;        core &lt;span class="op"&gt;=&lt;/span&gt; solver.get_core()&lt;/span&gt;
&lt;span id="cb3-68"&gt;&lt;a aria-hidden="true" href="#cb3-68" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="cf"&gt;assert&lt;/span&gt; core &lt;span class="kw"&gt;is&lt;/span&gt; &lt;span class="kw"&gt;not&lt;/span&gt; &lt;span class="va"&gt;None&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-69"&gt;&lt;a aria-hidden="true" href="#cb3-69" tabindex="-1"&gt;&lt;/a&gt;&lt;/span&gt;
&lt;span id="cb3-70"&gt;&lt;a aria-hidden="true" href="#cb3-70" tabindex="-1"&gt;&lt;/a&gt;        &lt;span class="co"&gt;# We've learned a new clause that must always hold for the remaining variables.&lt;/span&gt;&lt;/span&gt;
&lt;span id="cb3-71"&gt;&lt;a aria-hidden="true" href="#cb3-71" tabindex="-1"&gt;&lt;/a&gt;        new_clause &lt;span class="op"&gt;=&lt;/span&gt; &lt;span class="bu"&gt;tuple&lt;/span&gt;([&lt;span class="op"&gt;-&lt;/span&gt;literal &lt;span class="cf"&gt;for&lt;/span&gt; literal &lt;span class="kw"&gt;in&lt;/span&gt; core])&lt;/span&gt;
&lt;span id="cb3-72"&gt;&lt;a aria-hidden="true" href="#cb3-72" tabindex="-1"&gt;&lt;/a&gt;        refined_clauses.append(new_clause)&lt;/span&gt;
&lt;span id="cb3-73"&gt;&lt;a aria-hidden="true" href="#cb3-73" tabindex="-1"&gt;&lt;/a&gt;        oracle.add_clause(new_clause)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The idea here is that we use our oracle to find some assignment of
our current set of clauses over all the remaining variables that cannot
be satisfied, then use the original set of clauses to turn that into a
new learned clause. It’s not &lt;em&gt;exactly&lt;/em&gt; the same as the set
operations method, but it involves essentially the same ideas and
technologies.&lt;/p&gt;


&lt;p&gt;The downside of all of these methods is that they take two SAT calls
per added clause, and there’s no guarantee that they don’t add
exponentially many clauses. This isn’t just an “I can’t prove they
don’t” no guarantee - sometimes they actually do. For example, in the
context I was trying this, I found that most of the variables in my SAT
problem were easily removable by adding 10s of clauses, but some seemed
to run forever. This isn’t actually a problem for my use case for the
most part (because I can just skip the ones that take too long), but it
is a fairly fundamental limitation of the approach.&lt;/p&gt;


&lt;p&gt;I’m reasonably sure this is just intrinsic to the problem - you can
represent any boolean expression as CNF, but there’s no guarantee that
the CNF isn’t exponentially larger than the represented expression, so
where it is you’ll end up with exactly this sort of blow up.&lt;/p&gt;


&lt;p&gt;Anyway, like I said, I don’t know if this is a new idea. I’ve not
seen it before, and I think I would have if it was common knowledge, but
it’s totally possible I’ve just not read the right bits of the
literature to run into it.&lt;/p&gt;

</content>
    <link href="https://notebook.drmaciver.com/posts/2024-09-22-14:28.html" rel="alternate"/>
  </entry>
</feed>
